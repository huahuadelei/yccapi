(function(t){function e(e){for(var n,o,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/ycc-api-admin/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0599":function(t,e,a){},"0987":function(t,e,a){},"0b0b":function(t,e,a){"use strict";a("dd8f")},"0b54":function(t,e,a){},"0c1b":function(t,e,a){t.exports=a.p+"api-static/img/timg.e9b137bc.jpg"},"0c30":function(t,e,a){},"0f9a":function(t,e){t.exports={state:{loginUser:{menuNodes:[],user:{}}},getters:{getLoginUser:function(t){return t.loginUser}},mutations:{setLoginUser:function(t,e){t.loginUser=e}}}},1093:function(t,e,a){},"14bf":function(t,e,a){},"17f5":function(t,e,a){"use strict";a("f0db")},1933:function(t,e,a){"use strict";a("7ca0")},"1e6b":function(t,e,a){},"2f2b":function(t,e,a){"use strict";a("9fbc")},"3e20":function(t,e,a){},"3fc7":function(t,e,a){},"4aba":function(t,e,a){"use strict";a("1093")},"4afe":function(t,e,a){t.exports=a.p+"api-static/img/tansuo.4f7e3589.png"},"53db":function(t,e,a){"use strict";a("0599")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,s,i,o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"fade"}},[a("router-view")],1)],1)},l=[],c={name:"App",components:{},mounted:function(){}},u=c,d=(a("fc76"),a("2877")),p=Object(d["a"])(u,r,l,!1,null,"5bb94234",null),m=p.exports,f=(a("c975"),a("b0c0"),a("8c4f")),g="userToken",y="userInfo",h="AUTO_LOGIN",v={storeToken:function(t,e){localStorage.setItem(h,e);var a=localStorage.getItem(h);"true"==a?localStorage.setItem(g,t):sessionStorage.setItem(g,t)},getToken:function(){var t=null,e=localStorage.getItem(h);return t="true"==e?localStorage.getItem(g):sessionStorage.getItem(g),t},storeUserInfo:function(t){var e=localStorage.getItem(h);t=JSON.stringify(t),"true"==e?localStorage.setItem(y,t):sessionStorage.setItem(y,t)},getUserInfo:function(){var t=null,e=localStorage.getItem(h);return t="true"==e?localStorage.getItem(y):sessionStorage.getItem(y),t?JSON.parse(t):null},cleanStore:function(){localStorage.removeItem(h),localStorage.removeItem(y),localStorage.removeItem(g),sessionStorage.removeItem(y),sessionStorage.removeItem(g)}},b=v,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error_404 text-not-select"},[n("img",{staticStyle:{width:"600px",height:"auto"},attrs:{src:a("0c1b"),alt:""}}),n("div",[n("p"),n("h1",[t._v("页面可能是丢失了 您可以选择返回首页")]),n("p"),n("a",{staticClass:"back-btn",attrs:{href:"javaScript:"},on:{click:function(e){return t.$router.push({name:"home"})}}},[t._v("返回首页")])])])},w=[],C={name:"error_404",data:function(){return{}},methods:{back:function(){alert(1)}}},_=C,k=(a("f4bb"),Object(d["a"])(_,x,w,!1,null,"4a23555e",null)),I=k.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-box"},[t._m(0),a("Form",{ref:"login-form",staticStyle:{"margin-top":"50px"},attrs:{model:t.loginEntity,rules:t.ruleValidate}},[a("FormItem",{attrs:{prop:"username"}},[a("Input",{staticStyle:{width:"100%"},attrs:{prefix:"ios-contact",size:"large",placeholder:"请输入帐号"},model:{value:t.loginEntity.username,callback:function(e){t.$set(t.loginEntity,"username",e)},expression:"loginEntity.username"}})],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{staticStyle:{width:"100%"},attrs:{prefix:"md-lock",size:"large",type:"password",placeholder:"请输入密码"},model:{value:t.loginEntity.password,callback:function(e){t.$set(t.loginEntity,"password",e)},expression:"loginEntity.password"}})],1),a("FormItem",{staticStyle:{"text-align":"left"}},[a("Checkbox",{staticClass:"text-not-select",attrs:{size:"large"},model:{value:t.autoLogin,callback:function(e){t.autoLogin=e},expression:"autoLogin"}},[t._v("下次自动登录")]),a("a",{staticStyle:{float:"right","font-size":"14px"},attrs:{href:"javaScript:"}},[t._v("忘记密码?")])],1),a("FormItem",[a("Button",{attrs:{type:"primary",long:"",size:"large",loading:t.sendLoginReq},on:{click:t.submitd}},[t._v("登录")])],1)],1)],1)])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h3",{staticClass:"text-not-select"},[t._v("YCC接口文档管理平台只为便利而生")])])}],S=a("5530"),j=a("6821"),M=a.n(j),D={name:"login",data:function(){return{sendLoginReq:!1,autoLogin:!1,loginEntity:{},ruleValidate:{username:{required:!0,message:"登录名必须填写"},password:{required:!0,message:"密码必须填写"}}}},props:{redirect:{type:Boolean,required:!1,default:function(){return!1}}},mounted:function(){if(this.redirect)this.$Message.warning({content:"您还未登录或身份过期",duration:3})},methods:{loadUserInfo:function(){this.$server.user.getUserInfo().then((function(t){var e=t.data;200==e.code&&b.storeUserInfo(e.data)}))},login:function(){var t=this;this.sendLoginReq=!0;var e=Object(S["a"])({},this.loginEntity);e.password=M()(e.password),this.$server.user.login(e).then((function(e){var a=e.data;if(200==a.code){var n=a.data.token;b.storeToken(n,t.autoLogin);t.$Message.success({content:"登陆成功",duration:3});t.loadUserInfo(),setTimeout((function(){t.$router.push({name:"home"})}),3e3)}else t.sendLoginReq=!1,t.$Message.warning({content:a.msg,duration:3})}))},submitd:function(){var t=this;this.$refs["login-form"].validate((function(e){e?t.login():_this.$Message.warning({content:"请先补充完整相关数据在重试",duration:3})}))}}},O=D,q=(a("6f81"),Object(d["a"])(O,E,$,!1,null,"306db4a7",null)),B=q.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("Header",{attrs:{height:"50px",bgColor:"#3C8DBC"}},[a("div",{staticClass:"logo-box text-not-select"},[a("span",{staticStyle:{cursor:"pointer"},on:{click:t.toHomePage}},[t._v(" API管理平台 ")])]),a("div",{staticClass:"login-user-box text-not-select"},[t.$store.getters.getLoginUser.user&&t.$store.getters.getLoginUser.user.username?a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.downMenuClick}},[t._v(" "+t._s(t.$store.getters.getLoginUser.user.username)+" "),a("Icon",{attrs:{type:"ios-arrow-down"}}),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{disabled:""}},[t._v("个人信息")]),a("DropdownItem",{attrs:{name:"repass"}},[t._v("修改密码")]),a("DropdownItem",{attrs:{name:"logout",divided:""}},[t._v("退出")])],1)],1):t._e()],1),a("div",{staticClass:"contact-box text-not-select",on:{click:t.linkManager}},[a("Icon",{attrs:{type:"md-mail"}}),t._v(" 联系管理员 ")],1)]),a("div",{staticClass:"main-box"},[a("Menu",{ref:"menu",staticClass:"my-menu text-not-select",staticStyle:{height:"inherit"},attrs:{width:"230px",theme:"dark","active-name":t.menuActiveName},on:{"on-select":t.menuSelect}},[t._l(t.$store.getters.getLoginUser.menuNodes,(function(e){return[a("Menu-group",{key:e.menuId,attrs:{title:e.menuName}},[t._l(e.children,(function(e){return[0==e.isParent?a("Menu-item",{key:e.menuId,attrs:{name:e.routePath}},[a("Icon",{staticClass:"text-weight",attrs:{type:"md-radio-button-off",color:e.menuTheme}}),t._v(" "+t._s(e.menuName)+" ")],1):t._e()]}))],2)]}))],2),a("div",{staticClass:"main-right"},[a("keep-alive",[t.$route.meta.keepAlive?a("router-view"):t._e()],1),a("transition",{attrs:{duration:{leave:300},"enter-active-class":"animated fadeInRight","leave-active-class":"animated fadeOutRight",mode:"out-in"}},[t.$route.meta.keepAlive?t._e():a("router-view")],1)],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:t.modalBox.title,width:"500"},model:{value:t.modalBox.show,callback:function(e){t.$set(t.modalBox,"show",e)},expression:"modalBox.show"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.modalBox.entity,"label-width":80}},[a("FormItem",{attrs:{label:"原密码"}},[a("Input",{attrs:{type:"password",password:"",placeholder:"请输入原密码"},model:{value:t.modalBox.entity.oldPass,callback:function(e){t.$set(t.modalBox.entity,"oldPass",e)},expression:"modalBox.entity.oldPass"}})],1),a("FormItem",{attrs:{label:"新密码"}},[a("Input",{attrs:{type:"password",password:"",placeholder:"请输入新密码"},model:{value:t.modalBox.entity.password,callback:function(e){t.$set(t.modalBox.entity,"password",e)},expression:"modalBox.entity.password"}})],1),a("FormItem",{attrs:{label:"确认密码"}},[a("Input",{attrs:{type:"password",password:"",placeholder:"请再次输入新密码"},model:{value:t.modalBox.entity.newPassTow,callback:function(e){t.$set(t.modalBox.entity,"newPassTow",e)},expression:"modalBox.entity.newPassTow"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large"},on:{click:function(e){return t.saveRePass()}}},[t._v("保存")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.modalBox.show=!1}}},[t._v("取消")])],1)],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:t.modalBox2.title,width:"500"},model:{value:t.modalBox2.show,callback:function(e){t.$set(t.modalBox2,"show",e)},expression:"modalBox2.show"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.modalBox2.entity,"label-width":80}},[a("FormItem",{attrs:{label:"接收人"}},[a("Input",{attrs:{value:t.modalBox2.entity.name,disabled:""}})],1),a("FormItem",{attrs:{label:"邮箱地址"}},[a("Input",{attrs:{value:t.modalBox2.entity.email,disabled:""}})],1),a("FormItem",{attrs:{label:"发送内容"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:5},placeholder:"输入发送的内容"},model:{value:t.modalBox2.entity.content,callback:function(e){t.$set(t.modalBox2.entity,"content",e)},expression:"modalBox2.entity.content"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large"},on:{click:t.sendMail}},[t._v("发送")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.modalBox2.show=!1}}},[t._v("取消")])],1)],1)],1)],1)},T=[],N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-header",style:t.defStyle},[t._t("default")],2)},R=[],L={name:"my-header",data:function(){return{defStyle:{height:this.height,backgroundColor:this.bgColor}}},props:{height:{type:String,required:!1,default:function(){return"60px"}},bgColor:{type:String,required:!1,default:function(){return"#3C8DBC"}}}},A=L,z=Object(d["a"])(A,N,R,!1,null,null,null),V=z.exports,F={name:"index",components:{Header:V},data:function(){return{menuActiveName:"",menuData:[],requestMethods:[],requestHeaderNames:[],modalBox:{show:!1,title:"修改密码",entity:{}},modalBox2:{show:!1,title:"发送邮件",entity:{}},adminConfig:{edit:!1,configKey:"adminInfo",config:null}}},created:function(){var t=this;this.menuActiveName=this.$route.path,this.storeUserInfo(),this.loadRequestHeaderAndMethods(),this.loadConfig(this.adminConfig.configKey,(function(e){t.adminConfig.config=e&&e.configContent?JSON.parse(e.configContent):null})),this.$on("index:link-manager:click",(function(e){t.modalBox2.entity=e,t.modalBox2.show=!0}))},watch:{"$route.path":function(t,e){var a=this;this.$nextTick((function(){a.menuActiveName=t,a.$refs.menu.updateActiveName()}))},"$route.name":function(t,e){"api-list"===t&&"projects"===e&&this.$bus.$emit("api-list::initDatas")}},methods:{saveRePass:function(){var t=this,e=Object.assign({},this.modalBox.entity);e.oldPass&&0!=e.oldPass.length?e.password&&0!=e.password.length?e.password===e.newPassTow?(e.password=M()(e.password),e.oldPass=M()(e.oldPass),this.$server.user.currentResetPass(e).then((function(e){var a=e.data;200==a.code?(t.$Message.success("密码修改成功,稍后请重新登录系统！"),setTimeout((function(){t.logout()}),2e3)):t.$Message.warning(a.msg)}))):this.$Message.warning("两次输入密码不一致"):this.$Message.warning("新密码不能为空"):this.$Message.warning("旧密码不能为空")},loadConfig:function(t,e){var a=this;this.$server.config.getConfig(t).then((function(t){var n=t.data;200==n.code?e&&e(n.data):a.$Message.warning(n.msg)}))},linkManager:function(){this.adminConfig.config?this.$emit("index:link-manager:click",this.adminConfig.config):this.$Message.warning("管理员信息还未加载,请稍后")},sendMail:function(){var t=this,e=Object(S["a"])({},this.modalBox2.entity);if(e&&e.content&&0!=e.content.length){var a=this.$store.getters.getLoginUser.user.username,n={subject:"来自API管理平台-"+a+"的紧急联系",to:[e.email],from:"".concat(a,"(API管理平台用户)"),content:e.content,isHtml:!1};this.$server.notice.sendMail(n).then((function(e){var a=e.data;200==a.code?(console.log(a),t.modalBox2.entity.content="",t.$Message.success("发送成功")):t.$Message.warning(a.msg)}))}else this.$Message.warning("发送的内容不能为空")},storeUserInfo:function(){var t=this,e=b.getUserInfo();e?this.$store.commit("setLoginUser",e):this.$server.user.getUserInfo().then((function(e){var a=e.data;200==a.code&&(b.storeUserInfo(a.data),t.$store.commit("setLoginUser",a.data))}))},menuSelect:function(t){this.$route.path!=t&&this.$router.push({path:t})},downMenuClick:function(t){switch(t){case"repass":this.repass();break;case"logout":this.logout();break;default:}},logout:function(){b.cleanStore(),this.$router.push({path:"/login"})},repass:function(){this.modalBox.show=!0},toHomePage:function(){"/home"!=this.$route.path&&this.$router.push({path:"/home"})},loadRequestHeaderAndMethods:function(){var t=this;this.$server.multi(this.$server.api.getRequestMethods(),this.$server.api.getRequestHeaderNames()).then((function(e){var a=e[0].data,n=e[1].data;t.requestMethods=a.data,t.requestHeaderNames=n.data}))}}},U=F,J=(a("0b0b"),Object(d["a"])(U,P,T,!1,null,"2d302f44",null)),G=J.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-view"},[a("div",{staticClass:"manager-page-btn",on:{click:function(e){return t.$router.push({name:"home"})}}},[a("p",[a("Icon",{staticStyle:{"margin-bottom":"8px"},attrs:{type:"md-settings",size:"25"}})],1),a("p",[t._v("管理页面")])]),a("div",{staticClass:"content"},[t._m(0),a("div",{staticClass:"search-box"},[a("MySearch",{attrs:{placeholder:"请输入视图名称或项目名称"},on:{"on-search":t.onSearch},model:{value:t.queryEntity.entity.likeKey,callback:function(e){t.$set(t.queryEntity.entity,"likeKey",e)},expression:"queryEntity.entity.likeKey"}})],1),a("div",{staticClass:"view-item-box"},[a("ViewItemListBox",{attrs:{itemDatas:t.itemDatas},on:{"export-btn-click":t.exportClick,"show-btn-click":t.showClick}})],1),0!=t.queryEntity.total&&1!==Math.ceil(1*t.queryEntity.total/t.queryEntity.pageSize)?a("div",{staticClass:"floor-tools"},[a("Page",{attrs:{total:t.queryEntity.total},on:{"on-change":t.changePageNum}})],1):t._e()])])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-box"},[n("img",{staticStyle:{width:"90px",transform:"translateY(26px)"},attrs:{src:a("4afe")}}),n("span",[t._v("Explore")])])}],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-search",on:{click:function(e){return t.focus(e)}}},[a("input",t._b({ref:"text",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.onInput(e)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch(e)}}},"input",t.$attrs,!1)),a("span",{staticClass:"search-button",on:{click:t.onSearch}},[a("Icon",{attrs:{type:"md-search",size:"33"}})],1)])},Y=[],W={name:"my-search",data:function(){return{}},props:{value:String,placeholder:String},methods:{focus:function(t){this.$refs["text"].focus()},onInput:function(t){this.$emit("input",t.target.value)},onSearch:function(){this.$emit("on-search")}}},X=W,Z=(a("7252"),Object(d["a"])(X,K,Y,!1,null,"1d871bec",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.itemDatas&&t.itemDatas.length>0?a("div",{staticClass:"view-list-items"},t._l(t.itemDatas,(function(e,n){return a("div",{key:n,staticClass:"list-item"},[a("div",{staticClass:"content"},[a("p",[a("label",{staticClass:"title"},[t._v(t._s(e.viewName))]),e.surplusDays&&e.surplusDays>=0?a("span",{staticClass:"status status-success"},[t._v("使用中")]):t._e(),!e.surplusDays||e.surplusDays<0?a("span",{staticClass:"status status-error"},[t._v("已作废")]):t._e()]),a("p"),a("div",{staticClass:"ele-box"},[a("div",{staticClass:"ele-item"},[a("label",[t._v(" 项目名称：")]),t._v(t._s(e.projectName)+" ")]),a("div",{staticClass:"ele-item"},[a("label",[t._v(" 剩余时间：")]),1==e.isExp?[e.surplusDays>=0?[t._v(" "+t._s(e.surplusDays)+"天 ")]:[t._v("0天")]]:[t._v("永久")]],2),a("div",{staticClass:"ele-item"},[a("label",[t._v(" 访问密码：")]),1==e.hasPass?[a("Tag",[t._v(t._s(e.showPass))])]:[a("Tag",[t._v("无")])]],2),1===e.isTestable?a("Tag",{staticStyle:{"margin-left":"15px"},attrs:{color:"volcano"}},[t._v("TEST")]):t._e()],1),a("p"),a("p"),a("div",{staticStyle:{"margin-top":"6px"}},[a("label",[t._v(" 版本分支： ")]),a("ul",{staticClass:"versions-box"},t._l(e.versionList,(function(e,n){return a("li",{key:n},[a("span",{staticClass:"v-item"},[t._v(" "+t._s(e.versionName)+" ("+t._s(e.versionApiCounter)+") ")])])})),0)]),a("p")]),e.surplusDays&&e.surplusDays>=0&&e.versionList&&e.versionList.length>0?a("div",{staticClass:"tools"},[a("span",{staticClass:"show-btn",on:{click:function(a){return t.showBtnClick({row:e,index:n})}}},[t._v("查看")]),a("span",{staticClass:"show-btn",on:{click:function(a){return t.exportBtnClick({row:e,index:n})}}},[t._v("导出")])]):t._e()])})),0):t._e()},at=[],nt={name:"view-list-items",props:{itemDatas:{type:Array,required:!0}},data:function(){return{}},methods:{showBtnClick:function(t){this.$emit("show-btn-click",t)},exportBtnClick:function(t){this.$emit("export-btn-click",t)}}},st=nt,it=(a("60f6"),Object(d["a"])(st,et,at,!1,null,"98094c62",null)),ot=it.exports,rt={name:"show-view",components:{MySearch:tt,ViewItemListBox:ot},data:function(){return{value2:0,itemDatas:[],queryEntity:{total:0,pageNum:1,pageSize:10,entity:{viewStatus:1}}}},created:function(){this.loadViewList()},methods:{changePageNum:function(t){this.queryEntity.pageNum=t,this.loadViewList()},onSearch:function(){this.queryEntity.pageNum=1,this.loadViewList()},loadViewList:function(){var t=this;this.$server.views.queryViewDatas(this.queryEntity).then((function(e){var a=e.data;200==a.code?(console.log(a),t.itemDatas=t.formatPass(a.data.records),t.queryEntity.total=a.data.total):t.$Message.warning(a.msg)}))},exportClick:function(t){var e;if(t.row.hasPass){if(e=prompt("请输入访问密码",""),!e)return;if(e!==t.row._showPass)return void this.$Message.warning("密码输入错误")}this.$server.views.exportViewExcel(t.row.viewId).then((function(t){location.href=t.target}))},showClick:function(t){var e;if(t.row.hasPass){if(e=prompt("请输入访问密码",""),!e)return;if(e!==t.row._showPass)return void this.$Message.warning("密码输入错误")}this.$router.push({name:"view-info",query:{hasPass:t.row.hasPass,pass:t.row._showPass},params:{viewId:t.row.viewId}})},formatPass:function(t){if(!t||0==t.length)return t;for(var e in t){var a=t[e];1===a.hasPass?(a._showPass=a.showPass,a.showPass="需要密码"):a.showPass="无需密码"}return t}}},lt=rt,ct=(a("2f2b"),Object(d["a"])(lt,H,Q,!1,null,"b8599b4e",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-info"},[n("header",{staticClass:"header"},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[n("svg",{staticClass:"icon",attrs:{viewBox:"0 0 1024 1024",version:"1.0",xmlns:"http://www.w3.org/2000/svg","p-id":"4123",width:"20",height:"20"}},[n("path",{attrs:{d:"M213.333333 128h85.333334v85.333333H213.333333v213.333334a85.333333 85.333333 0 0 1-85.333333 85.333333 85.333333 85.333333 0 0 1 85.333333 85.333333v213.333334h85.333334v85.333333H213.333333c-45.653333-11.52-85.333333-38.4-85.333333-85.333333v-170.666667a85.333333 85.333333 0 0 0-85.333333-85.333333H0v-85.333334h42.666667a85.333333 85.333333 0 0 0 85.333333-85.333333V213.333333a85.333333 85.333333 0 0 1 85.333333-85.333333m597.333334 0a85.333333 85.333333 0 0 1 85.333333 85.333333v170.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h42.666667v85.333334h-42.666667a85.333333 85.333333 0 0 0-85.333333 85.333333v170.666667a85.333333 85.333333 0 0 1-85.333333 85.333333h-85.333334v-85.333333h85.333334v-213.333334a85.333333 85.333333 0 0 1 85.333333-85.333333 85.333333 85.333333 0 0 1-85.333333-85.333333V213.333333h-85.333334V128h85.333334m-298.666667 512a42.666667 42.666667 0 0 1 42.666667 42.666667 42.666667 42.666667 0 0 1-42.666667 42.666666 42.666667 42.666667 0 0 1-42.666667-42.666666 42.666667 42.666667 0 0 1 42.666667-42.666667m-170.666667 0a42.666667 42.666667 0 0 1 42.666667 42.666667 42.666667 42.666667 0 0 1-42.666667 42.666666 42.666667 42.666667 0 0 1-42.666666-42.666666 42.666667 42.666667 0 0 1 42.666666-42.666667m341.333334 0a42.666667 42.666667 0 0 1 42.666666 42.666667 42.666667 42.666667 0 0 1-42.666666 42.666666 42.666667 42.666667 0 0 1-42.666667-42.666666 42.666667 42.666667 0 0 1 42.666667-42.666667z",fill:"#f4ea2a","p-id":"4124"}})]),n("span",[t._v(t._s(t.viewEntity.viewName))])]),n("div",{staticClass:"export-btn-box"},[n("button",{on:{click:t.exportClick}},[t._v("Export")])]),n("div",{staticClass:"versions"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.versionActive,expression:"versionActive"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.versionActive=e.target.multiple?a:a[0]}}},t._l(t.viewEntity.versionList,(function(e,a){return n("option",{key:a,domProps:{value:e.versionId}},[t._v(" "+t._s(e.versionName)+" ")])})),0)])])]),n("div",{staticClass:"container"},[n("div",{staticClass:"desc-box"},[n("div",{staticStyle:{"font-size":"28px","font-weight":"700",color:"#000"}},[t._v(" "+t._s(t.viewEntity.projectName)+" ")]),n("div",{staticClass:"desc"},[n("p"),n("div",{staticStyle:{"max-width":"300px","word-break":"break-all"}},[t._v(t._s(t.projectEntity.projectDesc))]),n("p"),n("br")]),n("div",{staticClass:"content"},[n("div",[n("label",{staticClass:"title-item"},[t._v("项目环境")]),n("ul",{staticStyle:{"list-style-type":"none"}},[n("li",{staticStyle:{padding:"2px"}},[n("label",[t._v("开发环境地址 : ")]),n("span",{staticClass:"my-link"},[t._v(" "+t._s(t.projectEntity.profileDevUrl)+" ")])]),n("li",{staticStyle:{padding:"2px"}},[n("label",[t._v("测试环境地址 : ")]),n("span",{staticClass:"my-link"},[t._v(" "+t._s(t.projectEntity.profileTestUrl)+" ")])])])]),n("div",{staticStyle:{"padding-top":"28px"}},[n("Input",{attrs:{size:"large",placeholder:"接口名称/接口URL"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadApiInfo(e)}},model:{value:t.apiQueryEntity.likeBox.likeValue,callback:function(e){t.$set(t.apiQueryEntity.likeBox,"likeValue",e)},expression:"apiQueryEntity.likeBox.likeValue"}},[n("Select",{staticStyle:{"min-width":"120px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.groupActive,callback:function(e){t.groupActive=e},expression:"groupActive"}},[t._v(" "+t._s(t.groupsArray)+" "),t._l(t.groupsArray,(function(e,a){return n("Option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.groupName))])}))],2),n("Button",{attrs:{slot:"append"},on:{click:function(){t.apiQueryEntity.pageNum=1,t.loadApiInfo()}},slot:"append"},[t._v("搜索")])],1)],1)])]),n("div",{staticClass:"main-container"},[n("ul",{staticClass:"api-items"},t._l(t.apiListData,(function(e,a){return n("li",{key:a,staticClass:"api-item"},[n("div",{staticClass:"item-info-simple-box"},[n("div",{staticClass:"title-box"},[n("span",{staticClass:"title-first",attrs:{title:e.apiUrl},on:{click:function(n){return t.openAndCloseBox({row:e,index:a})}}},[t._v(" "+t._s(e.apiUrl)+" ")]),n("span",{staticClass:"title-last",attrs:{title:e.apiDesc}},[t._v(" :"+t._s(e.apiDesc)+t._s(e._open)+" ")])]),n("div",{staticClass:"options-box"},[n("span",{staticClass:"option-item"},["POST"==e.reqMethod?n("span",{staticClass:"my-tag my-tag-warning"},[t._v(" "+t._s(e.reqMethod))]):t._e(),"DELETE"==e.reqMethod?n("span",{staticClass:"my-tag my-tag-error"},[t._v(" "+t._s(e.reqMethod))]):t._e(),"GET"==e.reqMethod?n("span",{staticClass:"my-tag my-tag-info"},[t._v(" "+t._s(e.reqMethod))]):t._e(),"PUT"==e.reqMethod?n("span",{staticClass:"my-tag my-tag-alter"},[t._v(" "+t._s(e.reqMethod))]):t._e(),"HEAD"==e.reqMethod||"OPTIONS"==e.reqMethod||"PATCH"==e.reqMethod?n("span",{staticClass:"my-tag"},[t._v(" "+t._s(e.reqMethod))]):t._e()]),n("span",{staticClass:"option-item",staticStyle:{color:"#000000"}},[t._v(" "+t._s(t.groupNameFilter(e.groupId))+" ")]),1===t.viewEntity.isTestable?n("span",{staticClass:"option-item"},[n("a",{attrs:{href:"javaScript:"}},[n("span",{staticStyle:{position:"relative",top:"3px"},attrs:{title:"调试"}},[n("svg",{staticClass:"icon",attrs:{t:"1611062215045",viewBox:"0 0 1056 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5088",width:"22",height:"22"}},[n("path",{attrs:{d:"M266.0317958 231.07929925l91.30758782-24.03438189 67.27320676 67.27320593-24.03630423 91.30758865-91.30758866 24.0343819-67.27320593-67.27320593 24.03630424-91.30758866z",fill:"#40BF4F","p-id":"5089"}}),n("path",{attrs:{d:"M301.36743111 220.20664858l55.58371299-14.18038137 69.73718664 70.96917701-24.03438273 88.84360793-58.04961519 12.94839103-67.27320594-67.27320593 24.03630423-91.30758867z",fill:"#359941","p-id":"5090"}}),n("path",{attrs:{d:"M593.13003014 428.87236655l-127.79064652 127.79064568 55.76053546 55.7624578 127.79064653-127.79064651-55.76053547-55.76245697z",fill:"#A6A6A6","p-id":"5091"}}),n("path",{attrs:{d:"M970.2824363 777.15084021L826.22413652 921.20913999 620.66241909 715.64742337l-56.06036417 56.06228649-349.94867597-93.76964703L120.88373191 327.99138687l62.85649192-62.85457041L405.59842457 486.99501721l97.17155475-97.17155474 0.68038139 0.67845986L727.29973399 166.65254822l93.48134985 348.87621039-56.06036416 56.06036416 205.56171661 205.56171744z",fill:"#BFBFBF","p-id":"5092"}}),n("path",{attrs:{d:"M408.31610708 483.41244318L726.70776344 166.65254822l10.31527634 29.07381884-328.7069327 330.68080839L184.07464876 302.16379562l-29.64464703 29.64464704 86.72366217 320.99017648 320.73455237 86.97928546 65.23590563-65.23590564 225.59645489 220.18223227-26.49644027 26.48490876-205.54826357-205.43678806-51.31306906 54.7168991-352.45301826-95.94725207L121.13551137 326.76131803 184.07464876 265.7364747l224.24145832 217.67596848z",fill:"#999999","p-id":"5093"}}),n("path",{attrs:{d:"M700.21708934 185.5802247l-181.13717285 181.13909518L314.20819126 161.84759384l62.85649192-62.85456958 323.15240616 86.58720044z",fill:"#999999","p-id":"5094"}}),n("path",{attrs:{d:"M344.0738662 202.58591943l-35.30103992-35.30103908-1.66635763-2.49473228-0.5862052-2.94255423 0.5862052-2.9406319 1.66635763-2.49473226 62.85457041-62.85649191 2.18721505-1.53181989 2.57929926-0.6899914 2.66002322 0.23256025L704.35127153 178.73028152l17.5130983-17.5150198 2.68116477-1.74131544 3.15781594-0.49971505 3.08670282 0.82837382 2.48512226 2.01039339 1.45109591 2.84837724 93.48134986 348.87813189c0.15568012 1.77206699 0.67653753 3.61909177-1.98925104 7.4246152l-50.625 50.625L981.15508696 777.15084021l-10.87265067 10.87265066-210.9970816-210.9970816-1.66635763-2.49473227-0.58620438-2.94255422 0.58620438-2.94255424 1.66635763-2.49280994 52.92176825-52.92176824L723.32123191 181.50370178l-214.43550705 214.43550706-3.15781594 1.79705237-94.69219784 94.69412016-2.49473227 1.66635847-2.94255424 0.58620438-2.94255422-0.58620438-2.49281077-1.66635847L183.74022383 276.00754562 129.45961434 330.29007663l91.47095727 341.37279355 341.37279273 91.47095645 52.92176824-52.92176825 2.49473227-1.66635764 2.94255423-0.58620437 2.94255424 0.58620437 2.49281075 1.66635764L837.09678719 921.20913999l-10.87265067 10.87265066-205.56171743-205.56171662-50.625 50.625c-1.45878442 1.02057248-2.7964833 2.39478909-7.42653754 1.98925105L212.66220559 685.36660037c-1.61254303-0.75149451-3.47109934-1.22430267-5.43536418-5.43536499L113.45911671 329.98063791c-0.15568012-1.77206699-0.67653753-3.61909177 1.98925105-7.42461603L178.30485967 259.69952998l2.49280993-1.66635765 2.94255423-0.58428286 2.94255423 0.58428286 2.49281076 1.66635764 48.58385504 48.58385587L258.59564824 229.1227221c0.82260847-2.60620697 1.82588242-4.32638086 5.47764807-5.47764806l80.00056989-21.05915461zM253.03343318 614.72223828l-3.70365876 1.03018167-64.90340303-233.38240274 3.70173724-1.03018249 64.90532455 233.38240356z m291.26480631-12.6735477l-13.31741217 7.687927-50.93059488-88.21704199 13.31548983-7.68792701 50.93251722 88.217042z m21.13987774-21.13987775l-13.31548983 7.68792701-50.93251722-88.2189635 13.31548985-7.687927 50.9325172 88.21896349z m21.13987692-21.14180008l-13.31548901 7.68792783-50.93251721-88.217042 13.31548984-7.687927 50.93251638 88.21704118z m21.14180009-21.13987692l-13.31741218 7.687927-50.93251721-88.21704198 13.31741217-7.68792701 50.93251722 88.217042z m21.13987774-21.13987775l-13.31548983 7.68792701-50.93251722-88.21896351 13.31548984-7.68792699 50.93251721 88.21896349z m-199.79000601-229.90553805l-21.05723227 80.00056906c-0.82260847 2.60620697-1.82588242 4.32638086-5.47764807 5.47764808l-79.16066373 20.8381267 82.22430267 82.22430268 91.73618977-91.73619059 3.15781677-1.79897469 11.79135763-11.79135847-83.21412277-83.21412277zM272.32436382 237.37186811l-21.77028754 82.70287536 61.02868716 61.02676566 82.70095469-21.77028755 21.77028753-82.70095385-61.02868799-61.02676565-82.70095385 21.76836603z m52.75647812-75.52427427l198.0755983 198.0755983 168.64044681-168.6385253L379.36145144 107.56698434l-54.2806095 54.2806095z m338.37258004 39.7485055l-0.99558709 3.71134643L380.13985366 129.56406595l0.9975086-3.71134644 282.31605972 75.74337983z",fill:"#262626","p-id":"5095"}})])])])]):t._e()])]),t.openActive===a?n("div",{staticClass:"item-info-extra-box"},[t.getHeaders(e)&&t.getHeaders(e).length>0||t.getRequestParamObj(e).param.definitions&&t.getRequestParamObj(e).param.definitions.length>0||t.getRequestParamObj(e).query.definitions&&t.getRequestParamObj(e).query.definitions.length>0||t.getRequestParamObj(e).body.definitions&&t.getRequestParamObj(e).body.definitions.length>0||t.isNotEmpty(t.getResponseObj(e))&&(t.isNotEmpty(t.getResponseObj(e).successed,"json")||t.isNotEmpty(t.getResponseObj(e).successed,"propertyDescs"))||t.isNotEmpty(t.getResponseObj(e))&&(t.isNotEmpty(t.getResponseObj(e).errored,"json")||t.isNotEmpty(t.getResponseObj(e).errored,"propertyDescs"))?t._e():n("p",[t._v(" 该接口未设置任务请求信息 ")]),t.getHeaders(e)&&t.getHeaders(e).length>0?n("div",{staticClass:"extra-box-item"},[n("span",{staticClass:"full-title"},[t._v(" 请求头 ")]),n("Table",{attrs:{border:"","disabled-hover":!0,columns:t.iviewTableHeadersColumns,"row-key":"key",data:t.getHeaders(e)}})],1):t._e(),t.getRequestParamObj(e).param.definitions&&t.getRequestParamObj(e).param.definitions.length>0||t.getRequestParamObj(e).query.definitions&&t.getRequestParamObj(e).query.definitions.length>0||t.getRequestParamObj(e).body.definitions&&t.getRequestParamObj(e).body.definitions.length>0?n("div",{staticClass:"extra-box-item"},[n("span",{staticClass:"full-title"},[t._v(" 请求参数 ")]),t.getRequestParamObj(e).param.definitions&&t.getRequestParamObj(e).param.definitions.length>0?n("div",{staticStyle:{"margin-bottom":"30px"}},[t._m(0,!0),n("Table",{attrs:{border:"","disabled-hover":!0,"row-key":"name",columns:t.iviewTableParamsColumns,data:t.getRequestParamObj(e).param.definitions}})],1):t._e(),t.getRequestParamObj(e).query.definitions&&t.getRequestParamObj(e).query.definitions.length>0?n("div",{staticStyle:{"margin-bottom":"30px"}},[t._m(1,!0),n("Table",{attrs:{border:"","disabled-hover":!0,"row-key":"name",columns:t.iviewTableParamsColumns,data:t.getRequestParamObj(e).query.definitions}})],1):t._e(),t.getRequestParamObj(e).body.definitions&&t.getRequestParamObj(e).body.definitions.length>0?n("div",[n("p",{staticClass:"chil-title"},[n("span"),n("b",[t._v("BODY参数")]),null!=t.generateExampleData(t.getRequestParamObj(e).body)?n("Poptip",{attrs:{placement:"right",trigger:"hover",width:"500"}},[n("a",{staticClass:"example-data-link my-tag my-tag-warning",attrs:{href:"javaScript:"}},[t._v(" Example ")]),n("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[n("JsonView",{attrs:{data:t.generateExampleData(t.getRequestParamObj(e).body),"font-size":13}})],1)]):t._e()],1),n("Table",{attrs:{border:"","disabled-hover":!0,"row-key":"_id",columns:t.iviewTableParamsColumns,data:t.formatTreeTableData(t.getRequestParamObj(e).body.definitions,"propertys")}})],1):t._e()]):t._e(),t.isNotEmpty(t.getResponseObj(e))&&(t.isNotEmpty(t.getResponseObj(e).successed,"json")||t.isNotEmpty(t.getResponseObj(e).successed,"propertyDescs"))||t.isNotEmpty(t.getResponseObj(e))&&(t.isNotEmpty(t.getResponseObj(e).errored,"json")||t.isNotEmpty(t.getResponseObj(e).errored,"propertyDescs"))?n("div",{staticClass:"extra-box-item"},[n("span",{staticClass:"full-title"},[t._v(" 响应数据 ")]),t.isNotEmpty(t.getResponseObj(e))&&(t.isNotEmpty(t.getResponseObj(e).successed,"json")||t.isNotEmpty(t.getResponseObj(e).successed,"propertyDescs"))?n("div",{staticClass:"res-item-box color-green",staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"res-item-title"},[t._v(" 成功的响应 ")]),n("div",{staticClass:"jsonView-container"},[null!=t.formatJSon(t.getResponseObj(e).successed.json)?n("JsonView",{attrs:{data:t.formatJSon(t.getResponseObj(e).successed.json),"font-size":13}}):t._e()],1),t.getResponseObj(e).successed.desced?[n("Divider",{attrs:{orientation:"left"}},[t._v("属性说明")]),n("Table",{attrs:{border:"","disabled-hover":!0,"row-key":"_id",columns:t.iviewTableResponseColumns,data:t.formatTreeTableData(t.getResponseObj(e).successed.propertyDescs,"propertys")}})]:t._e()],2):t._e(),t.isNotEmpty(t.getResponseObj(e))&&(t.isNotEmpty(t.getResponseObj(e).errored,"json")||t.isNotEmpty(t.getResponseObj(e).errored,"propertyDescs"))?n("div",{staticClass:"res-item-box color-error"},[n("div",{staticClass:"res-item-title"},[t._v(" 失败的响应 ")]),null!=t.formatJSon(t.getResponseObj(e).errored.json)?n("div",{staticClass:"jsonView-container"},[n("JsonView",{attrs:{data:t.formatJSon(t.getResponseObj(e).errored.json),"font-size":13}})],1):t._e(),t.getResponseObj(e).errored.desced?[n("Divider",{attrs:{orientation:"left"}},[t._v("属性说明")]),n("Table",{attrs:{border:"","disabled-hover":!0,"row-key":"_id",columns:t.iviewTableResponseColumns,data:t.formatTreeTableData(t.getResponseObj(e).errored.propertyDescs,"propertys")}})]:t._e()],2):t._e()]):t._e()]):t._e()])})),0)]),t.apiQueryEntity.total>20?n("div",{staticClass:"page-info",staticStyle:{"text-align":"center",margin:"30px"}},[n("Page",{attrs:{total:t.apiQueryEntity.total,"page-size":20,"show-total":"",size:"small"},on:{"on-change":function(e){t.apiQueryEntity.pageNum=e,t.openActive=-1,t.loadApiInfo()}}})],1):t._e(),0==t.apiListData.length&&t.inited?n("div",{staticStyle:{"text-align":"center",padding:"40px"}},[n("img",{staticStyle:{width:"300px"},attrs:{src:a("f7e4"),alt:""}})]):t._e()])])},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"chil-title"},[a("span",{staticStyle:{"border-color":"#FF00FF"}}),a("b",[t._v("URL参数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"chil-title"},[a("span",{staticStyle:{"border-color":"green"}}),a("b",[t._v("QUERY参数")])])}],mt=(a("d3b7"),a("b85c")),ft=a("53ca"),gt=(a("96cf"),a("1da1")),yt=a("1b37"),ht=a.n(yt),vt={name:"vie-info",components:{JsonView:ht.a},data:function(){return{inited:!1,openActive:-1,viewEntity:{},versionActive:null,projectEntity:{},groupActive:"0",groupsArray:[],apiQueryEntity:{pageSize:20,pageNum:1,total:0,entity:{projectVersionId:null,status:1},likeBox:{column:"api_url,api_desc",likeValue:""}},apiListData:[],iviewTableHeadersColumns:[{title:"请求头名称",key:"key"},{title:"请求头值项",key:"value"}],iviewTableParamsColumns:[{title:"参数名称",key:"name",tree:!0},{title:"参数类型",key:"type"},{title:"参数说明",key:"desc"},{title:"是否必填",render:function(t,e){var a=e.row;e.index;return t("span",1==a.required?"是":"否")}}],iviewTableResponseColumns:[{title:"属性名称",key:"name",tree:!0},{title:"属性类型",key:"type"},{title:"属性说明",key:"desc"}]}},created:function(){var t=this;return Object(gt["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadViewInfo(t.$route.params.viewId);case 2:return a=e.sent,n=!0,a&&a.length>=1&&(t.viewEntity=a[0],0!=t.$route.query.hasPass&&t.viewEntity.showPass!==t.$route.query.pass||(n=!1)),n&&(t.$Message.warning("视图不存在或密码错误"),history.back()),t.versionActive=t.viewEntity.versionList[0].versionId,e.next=9,t.loadProjectInfo(t.viewEntity.projectId);case 9:if(s=e.sent,null!=s){e.next=14;break}return t.$Message.warning("项目信息未找到"),history.back(),e.abrupt("return");case 14:return t.projectEntity=s,e.next=17,t.loadVersionGroups(t.versionActive);case 17:i=e.sent,console.log(i),t.groupsArray=i,t.loadApiInfo(),t.inited=!0;case 22:case"end":return e.stop()}}),e)})))()},watch:{versionActive:function(){var t=Object(gt["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.loadVersionGroups(e);case 2:n=t.sent,this.groupActive=n[0].id,this.groupsArray=n,this.loadApiInfo();case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),groupActive:function(t,e){"0"!==t?this.apiQueryEntity.entity.groupId=t:delete this.apiQueryEntity.entity.groupId,this.loadApiInfo()}},methods:{generateExampleData:function(t){try{return JSON.parse(t.example)}catch(e){}return null},isNotEmpty:function(t){if(!t)return!1;for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];for(var s=0,i=a;s<i.length;s++){var o=i[s],r=t[o];if(!r)return!1;if("string"===typeof r&&0==r.length)return!1;if("object"===Object(ft["a"])(r)&&"Array"===r.constructor.name&&0==r.length)return!1}return!0},formatTreeTableData:function(t,e){var a=this;if(!t||0==t.length)return[];var n,s=Object(mt["a"])(t);try{var i=function(){var t=n.value;if(t._id=t.name+"_"+Math.random()*(new Date).getTime(),"Object"!==t.type)return"continue";Object.defineProperty(t,"children",{enumerable:!0,configurable:!1,set:function(a){t[e]=a},get:function(){return t[e]}}),t["_showChildren"]=!0,t[e]&&a.formatTreeTableData(t[e],e)};for(s.s();!(n=s.n()).done;)i()}catch(o){s.e(o)}finally{s.f()}return t},formatJSon:function(t){try{return JSON.parse(t)}catch(e){}return null},getResponseObj:function(t){return t.resContent&&""!==t.resContent.length?JSON.parse(t.resContent):{}},getRequestParamObj:function(t){return t.reqContent&&""!==t.reqContent.length?JSON.parse(t.reqContent):{}},getHeaders:function(t){return t.reqHeaders&&""!==t.reqHeaders.length?JSON.parse(t.reqHeaders):[]},openAndCloseBox:function(t){t.row;var e=t.index;e===this.openActive?this.openActive=-1:this.openActive=e},loadVersionGroups:function(t){var e=this;return Object(gt["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$server.api.getGroupListByVersionId(t);case 3:if(n=a.sent,s=n.data,200!=s.code){a.next=7;break}return a.abrupt("return",e.formatGroups(s.data));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.error(a.t0);case 12:return a.abrupt("return",null);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},loadProjectInfo:function(t){var e=this;return Object(gt["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$server.project.getProjectById(t);case 3:if(s=a.sent,n=s.data,200!=n.code){a.next=7;break}return a.abrupt("return",n.data);case 7:a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.error(a.t0);case 12:return a.abrupt("return",null);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},loadViewInfo:function(t){var e=this,a={entity:{id:t}};return new Promise((function(t,n){e.$server.views.queryViewDatas(a).then((function(e){var a=e.data;200==a.code?t(a.data.records):n(a.msg)}))}))},formatGroups:function(t){var e=[{id:"0",groupName:"全部"}];if(!t||0==t.length)return e;for(var a in t){var n=t[a];e.push({id:n.id,groupName:n.groupName})}return e},exportClick:function(){this.$server.views.exportViewExcel(this.viewEntity.viewId).then((function(t){location.href=t.target}))},loadApiInfo:function(){var t=this;this.apiQueryEntity.entity.projectVersionId=this.versionActive,this.$server.api.getApiPage(this.apiQueryEntity).then((function(e){var a=e.data;200==a.code?(t.apiListData=a.data.records,console.log(t.apiListData),t.apiQueryEntity.total=a.data.total):t.$Message.warning(a.msg)}))},groupNameFilter:function(t){if("0"===t)return"默认分组";var e,a=Object(mt["a"])(this.groupsArray);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.id===t)return n.groupName}}catch(s){a.e(s)}finally{a.f()}return"未知分组"}}},bt=vt,xt=(a("f475"),Object(d["a"])(bt,dt,pt,!1,null,"e185a68c",null)),wt=xt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"person",on:{mouseenter:function(e){return t.mouseenterHover(e)},mouseleave:function(e){return t.mouseout(e)}}},[n("transition",{attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp",mode:"out-in"}},[t.hover?n("span",{staticClass:"bubble-box"},[t._v(" 欢迎~欢迎~！ ")]):n("span",{staticClass:"bubble-box"},[t._v(" 欢迎你的登录,"),n("br"),t._v(" "+t._s(t.$store.getters.getLoginUser.user.username)+" ")])]),n("img",{attrs:{src:a("d092")}})],1)])},_t=[],kt={name:"home",data:function(){return{hover:!1}},methods:{mouseenterHover:function(t){this.hover=!0,n&&window.clearTimeout(n)},mouseout:function(t){var e=this;n=setTimeout((function(){e.hover=!1}),1e3)}}},It=kt,Et=(a("5760"),Object(d["a"])(It,Ct,_t,!1,null,"868a870e",null)),$t=Et.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-permission"},[a("Card",{staticClass:"def-box-shadow",staticStyle:{width:"100%"}},[a("Button",{attrs:{slot:"title",type:"primary"},on:{click:t.addMenu},slot:"title"},[a("Icon",{attrs:{type:"md-add"}}),t._v(" 添加 ")],1),a("Table",{attrs:{"row-key":"menuId",loading:t.tableModel.loading,columns:t.tableModel.columns,data:t.tableModel.columnDatas,border:""}})],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:t.modelBox.title,width:"750"},model:{value:t.modelBox.show,callback:function(e){t.$set(t.modelBox,"show",e)},expression:"modelBox.show"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.menuEntity,"label-width":80}},[a("FormItem",{attrs:{label:"类型"}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("RadioGroup",{model:{value:t.menuEntity.isMenu,callback:function(e){t.$set(t.menuEntity,"isMenu",e)},expression:"menuEntity.isMenu"}},[a("Radio",{attrs:{label:1,border:""}},[t._v("菜单")]),a("Radio",{attrs:{label:0,border:""}},[t._v("权限")])],1)],1),a("Col",{attrs:{span:"3"}},[t._v(" 上级菜单 ")]),a("Col",{attrs:{span:"10"}},[a("Treeselect",{attrs:{options:t.TreeselectModel.options},model:{value:t.menuEntity.parentId,callback:function(e){t.$set(t.menuEntity,"parentId",e)},expression:"menuEntity.parentId"}})],1)],1)],1),1==t.menuEntity.isMenu?a("FormItem",{attrs:{label:"主题色"}},[a("ColorPicker",{model:{value:t.menuEntity.menuTheme,callback:function(e){t.$set(t.menuEntity,"menuTheme",e)},expression:"menuEntity.menuTheme"}})],1):t._e(),a("FormItem",{attrs:{label:"菜单名称"}},[a("Input",{attrs:{placeholder:"请输入菜单名称"},model:{value:t.menuEntity.menuName,callback:function(e){t.$set(t.menuEntity,"menuName",e)},expression:"menuEntity.menuName"}})],1),1==t.menuEntity.isMenu?a("FormItem",{attrs:{label:"路由地址"}},[a("Input",{attrs:{placeholder:"请输入路由地址"},model:{value:t.menuEntity.routePath,callback:function(e){t.$set(t.menuEntity,"routePath",e)},expression:"menuEntity.routePath"}})],1):t._e(),0==t.menuEntity.isMenu?a("FormItem",{attrs:{label:"权限标识"}},[a("Input",{attrs:{placeholder:"请输入权限标识"},model:{value:t.menuEntity.permCode,callback:function(e){t.$set(t.menuEntity,"permCode",e)},expression:"menuEntity.permCode"}})],1):t._e(),a("FormItem",{staticStyle:{"margin-bottom":"70px"},attrs:{label:"排序"}},[a("InputNumber",{attrs:{min:1,step:1},model:{value:t.menuEntity.sort,callback:function(e){t.$set(t.menuEntity,"sort",e)},expression:"menuEntity.sort"}})],1),a("div",{staticClass:"modal_tool_btn"},[a("Button",{attrs:{type:"default",size:"large"},on:{click:function(e){t.modelBox.show=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:t.saveMenu}},[t._v("保存")])],1)],1)],1)],1)},jt=[],Mt=a("ca17"),Dt=a.n(Mt),Ot=(a("542c"),{name:"menu-permission",components:{Treeselect:Dt.a},data:function(){var t=this;return{TreeselectModel:{options:[]},tableModel:{loading:!1,columns:[{title:"菜单名称",key:"menuName",tree:!0},{title:"主题",width:120,align:"center",key:"menuTheme",render:function(t,e){if(e.row["menuTheme"])return t("Icon",{class:{"text-weight":!0},props:{type:"md-radio-button-off",color:e.row["menuTheme"]}})}},{title:"排序",key:"sort",align:"center"},{title:"路由地址",key:"routePath",align:"center"},{title:"类型",key:"isMenu",align:"center",render:function(t,e){return t("Tag",{props:{type:"dot",color:e.row["isMenu"]?"warning":"primary"}},e.row["isMenu"]?"菜单":"权限")}},{title:"权限标识",key:"permCode",align:"center"},{title:"操作",key:"action",align:"center",width:210,render:function(e,a){return e("div",[e("span",{class:{"def-btn-group":!0},on:{click:function(){t.addMenuItemClick(a.row)}}},[e("Icon",{props:{type:"md-add"}}),"添加"]),e("span",{class:{"def-btn-group":!0},on:{click:function(){t.updateMenuItemClick(a.row)}}},[e("Icon",{props:{type:"ios-create"}}),"修改"]),e("span",{class:{"def-btn-group":!0},on:{click:function(){t.delMenuItemClick(a.row)}}},[e("Icon",{props:{type:"md-remove"}}),"删除"])])}}],columnDatas:[]},menuEntity:{menuTheme:"#00C0EF"},modelBox:{show:!1,title:"添加菜单"}}},methods:{saveMenu:function(){var t=this;this.menuEntity.menuName?this.$server.menu.saveMenu(this.menuEntity).then((function(e){var a=e.data;200==a.code?(t.$Message.success({content:"添加菜单成功",duration:2}),t.loadMenuData(),t.modelBox.show=!1):t.$Message.warning({content:a.msg,duration:2})})):this.$Message.warning({content:"菜单名称必须填写",duration:2})},addMenuItemClick:function(t){this.menuEntity={parentId:t.menuId,menuTheme:"#00C0EF",isMenu:1,sort:1},this.modelBox={show:!0,title:"添加菜单"}},updateMenuItemClick:function(t){var e=Object.assign({},t,{id:t.menuId,isMenu:t.isMenu?1:0});this.menuEntity=e,this.modelBox={show:!0,title:"修改菜单"}},delMenuItemClick:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"<p>是否删除[".concat(t.menuName,"]这个")+(t.isMenu?"菜单":"权限")+"?</p>",loading:!0,onOk:function(){e.$server.menu.removeMenu(t.menuId).then((function(t){var a=t.data;200==a.code?(e.loadMenuData(),e.$Modal.remove(),e.$Message.info("删除成功")):e.$Message.warning({content:a.msg,duration:2})}))}})},loadMenuData:function(){var t=this;this.tableModel.loading=!0,this.$server.menu.getTree().then((function(e){var a=e.data;if(200==a.code){t.tableModel.columnDatas=a.data,t.tableModel.loading=!1;var n=t.initTreeselectData(a.data);t.TreeselectModel.options=[{id:"0",label:"根节点",children:n}]}else t.$Message.warning({content:a.msg,duration:2})}))},initTreeselectData:function(t){if(!t||0==t.length)return null;for(var e=[],a=0;a<t.length;a++){var n=t[a],s={};s.id=n.menuId,s.label=n.menuName;var i=this.initTreeselectData(n.children);i&&(s.children=i),e.push(s)}return e},addMenu:function(){this.menuEntity={isMenu:1,menuTheme:"#00C0EF",parentId:"0",sort:1},this.modelBox={show:!0,title:"添加菜单"}}},created:function(){this.loadMenuData()}}),qt=Ot,Bt=(a("5a02"),Object(d["a"])(qt,St,jt,!1,null,null,null)),Pt=Bt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role-rule"},[a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:t.modalBox.title,width:"500"},model:{value:t.modalBox.show,callback:function(e){t.$set(t.modalBox,"show",e)},expression:"modalBox.show"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.roleEntity,"label-width":80}},[a("FormItem",{attrs:{label:"角色名称"}},[a("Input",{attrs:{placeholder:"请输入角色名称"},model:{value:t.roleEntity.roleName,callback:function(e){t.$set(t.roleEntity,"roleName",e)},expression:"roleEntity.roleName"}})],1),a("FormItem",{attrs:{label:"角色编码"}},[a("Input",{attrs:{placeholder:"请输入角色编码"},model:{value:t.roleEntity.roleCode,callback:function(e){t.$set(t.roleEntity,"roleCode",e)},expression:"roleEntity.roleCode"}})],1),a("FormItem",{attrs:{label:"描述信息"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入描述信息"},model:{value:t.roleEntity.roleDesc,callback:function(e){t.$set(t.roleEntity,"roleDesc",e)},expression:"roleEntity.roleDesc"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large"},on:{click:t.submitData}},[t._v("保存")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.modalBox.show=!1}}},[t._v("取消")])],1)],1)],1),a("Card",{staticClass:"def-box-shadow ",staticStyle:{height:"72px","margin-bottom":"15px"}},[a("Button",{attrs:{icon:"md-add",type:"info",size:"large"},on:{click:t.addRole}},[t._v(" 添加 ")]),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{icon:"ios-create",type:"error",size:"large",disabled:!t.selectEntity||"Administrator"===t.selectEntity.roleCode},on:{click:t.deleteRole}},[t._v(" 删除 ")]),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{icon:"ios-create",size:"large",disabled:!t.selectEntity||"Administrator"===t.selectEntity.roleCode},on:{click:t.editRole}},[t._v(" 编辑 ")])],1),a("Card",{staticClass:"def-box-shadow auto_height"},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("角色配置")]),a("div",{staticClass:"box-content"},[a("div",{staticClass:"box-top"},[a("div",{staticClass:"box-item",staticStyle:{flex:"1"}},[a("ul",{staticClass:"list-group"},t._l(t.roleList,(function(e){return a("li",{key:e.id,staticClass:"list-group-item",class:[e.id==t.selectEntity.id?" item-active":""],on:{click:function(a){return t.roleActive(e)}}},[a("div",{staticClass:"icon"},[a("Icon",{attrs:{type:"md-person",size:"50"}})],1),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v(" "+t._s(e.roleName)+" ")]),e.roleDesc?a("div",{staticClass:"desc"},[t._v(t._s(e.roleDesc))]):t._e(),e.roleDesc?t._e():a("div",{staticClass:"desc"},[t._v("该角色没有描述信息")])])])})),0)]),a("div",{staticClass:"box-item",staticStyle:{flex:"1",padding:"15px"}},[a("Tree",{ref:"roleTree",attrs:{data:t.rolePerms,"show-checkbox":""}})],1)]),a("div",{staticClass:"box-bottom"},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:t.saveData}},[t._v("保存")]),a("Button",{attrs:{size:"large"},on:{click:t.loadRoleMenuPerms}},[t._v("重置")])],1)])]),a("MyLoading",{attrs:{show:t.loading,type:"3",text:"数据准备中..."}})],1)},Nt=[],Rt=(a("d81d"),a("4ec9"),a("3ca3"),a("498a"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"my-loading loading-zhezhao"},[a("vue-loading",{attrs:{isLoading:t.show,type:"loading"+t.type,text:t.text,scale:".8"}})],1):t._e()}),Lt=[],At={name:"my-loading",data:function(){return{}},props:{show:{type:Boolean,required:!0},text:{type:String,required:!1,default:function(){return"加载中.."}},type:{type:String,required:!1,default:function(){return"1"}}}},zt=At,Vt=(a("17f5"),Object(d["a"])(zt,Rt,Lt,!1,null,"65b78b5c",null)),Ft=Vt.exports,Ut={name:"role-rule",components:{MyLoading:Ft},data:function(){return{loading:!0,roleEntity:{loading:!0},modalBox:{show:!1,title:"新增角色"},selectEntity:{id:"1"},menuPermTree:[],roleList:[],rolePerms:[]}},created:function(){var t=this;this.loadMenuTree(),this.loadRoleList((function(e){e&&e.length>0&&(t.selectEntity=e[0],setTimeout((function(){t.loadRoleMenuPerms()}),1),t.loading=!1)}))},methods:{addRole:function(){this.roleEntity={},this.modalBox={show:!0,title:"新增角色"}},editRole:function(){this.roleEntity=Object(S["a"])({},this.selectEntity),this.modalBox={show:!0,title:"编辑角色"}},submitData:function(){var t=this;this.roleEntity&&this.roleEntity.roleName&&""!==this.roleEntity.roleName.trim()?this.roleEntity.roleCode&&""!==this.roleEntity.roleCode.trim()?this.$server.role.saveRoleEntity(this.roleEntity).then((function(e){var a=e.data;200==a.code?(t.loadRoleList(),t.$Message.success(a.msg),t.modalBox.show=!1):t.$Message.warning({content:a.msg,duration:2})})):this.$Message.warning("角色编码必须填写"):this.$Message.warning({content:"角色名称必须填写",duration:2})},saveData:function(){var t=this,e=this.$refs.roleTree.getCheckedAndIndeterminateNodes(),a=e.map((function(t){return t.id}));this.$Modal.confirm({title:"更新",content:"<p>是否要更新选中角色的权限信息?</p>",loading:!0,onOk:function(){var e={menuIds:a,roleId:t.selectEntity.id};t.$server.role.updateSelectMenus(e).then((function(e){var a=e.data;200==a.code?(t.$Modal.remove(),t.$Message.success(a.msg)):t.$Message.warning({content:a.msg,duration:2})}))}})},deleteRole:function(){var t=this;this.$Modal.confirm({title:"删除",content:"<p>是否删除[".concat(this.selectEntity.roleName,"]这个角色?</p>"),loading:!0,onOk:function(){t.$server.role.deleteRole(t.selectEntity.id).then((function(e){var a=e.data;200==a.code?(t.$Modal.remove(),t.loadRoleList(),t.$Message.info("删除成功")):(t.$Modal.remove(),t.$Message.warning({content:a.msg,duration:5}))}))}})},roleActive:function(t){t.id!=this.selectEntity.id&&(this.selectEntity=t,this.loadRoleMenuPerms())},loadRoleList:function(t){var e=this;this.$server.role.getRoleList().then((function(a){var n=a.data;200==n.code?(e.roleList=n.data,t&&t(n.data)):e.$Message.warning({content:n.msg,duration:2})}))},loadMenuTree:function(){var t=this;this.$server.menu.getTree().then((function(e){var a=e.data;200==a.code?t.menuPermTree=a.data:t.$Message.warning({content:a.msg,duration:2})}))},loadRoleMenuPerms:function(){var t=this;this.$server.role.getRoleMenuPermsOptions(this.selectEntity.id).then((function(e){var a=e.data;200==a.code?t.buildRolePermTreeData(a.data,t.menuPermTree):t.$Message.warning({content:a.msg,duration:2})}))},buildRolePermTreeData:function(t,e){var a=new Map;if(t)for(var n in t)a.set(t[n].id,t[n]);this.rolePerms=this.doBuildRoleTree(a,e)},doBuildRoleTree:function(t,e){if(e&&0!=e.length){var a=function(e){var a=t.get(e.menuId);return!(!a||e.isParent)},n=[];for(var s in e){var i=e[s],o={title:i.menuName,id:i.menuId,expand:!0,checked:a(i),children:this.doBuildRoleTree(t,i.children)};n.push(o)}return n}}}},Jt=Ut,Gt=(a("9b0b"),Object(d["a"])(Jt,Tt,Nt,!1,null,"f95988ec",null)),Ht=Gt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-member"},[a("Card",{staticClass:"def-box-shadow",staticStyle:{height:"72px","margin-bottom":"15px"}},[a("Col",{attrs:{span:3}},[a("Button",{attrs:{icon:"md-add",type:"primary",size:"large"},on:{click:t.addUser}},[t._v(" 添加 ")])],1),a("Col",{attrs:{span:6,offset:"15"}},[a("Input",{attrs:{size:"large",search:"","enter-button":"",placeholder:"请输入用户名称进行搜索"},on:{"on-search":function(){t.queryEntity.pageNum=1,t.loadUserList()}},model:{value:t.queryEntity.likeBox.likeValue,callback:function(e){t.$set(t.queryEntity.likeBox,"likeValue",e)},expression:"queryEntity.likeBox.likeValue"}})],1)],1),a("Card",{staticClass:"def-box-shadow auto_height"},[a("Table",{attrs:{"row-key":"id",loading:t.tableModel.loading,columns:t.tableModel.columns,data:t.tableModel.columnDatas,border:""}}),a("div",{staticStyle:{"text-align":"right",padding:"15px 0"}},[a("Page",{attrs:{total:t.queryEntity.total,size:"small","page-size":t.queryEntity.pageSize,"show-total":"","show-sizer":"",current:t.queryEntity.pageNum},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:t.modalBox.title,width:"500"},model:{value:t.modalBox.show,callback:function(e){t.$set(t.modalBox,"show",e)},expression:"modalBox.show"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.userEntity,"label-width":80}},[a("FormItem",{attrs:{label:"用户名"}},[a("Input",{attrs:{disabled:null!=t.userEntity.id&&void 0!=t.userEntity,placeholder:"请输入用户名"},model:{value:t.userEntity.username,callback:function(e){t.$set(t.userEntity,"username",e)},expression:"userEntity.username"}})],1),a("FormItem",{attrs:{label:"角色名称"}},[a("Select",{attrs:{filterable:"",disabled:t.userEntity.username&&"admin"===t.userEntity.username},model:{value:t.userEntity.roleId,callback:function(e){t.$set(t.userEntity,"roleId",e)},expression:"userEntity.roleId"}},t._l(t.roleList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.roleName))])})),1)],1),a("FormItem",{attrs:{label:"邮箱地址"}},[a("Input",{attrs:{type:"email",placeholder:"请输入邮箱"},model:{value:t.userEntity.email,callback:function(e){t.$set(t.userEntity,"email",e)},expression:"userEntity.email"}})],1),t.userEntity.id?t._e():a("FormItem",{attrs:{label:"密码"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.userEntity.password,callback:function(e){t.$set(t.userEntity,"password",e)},expression:"userEntity.password"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large"},on:{click:t.saveData}},[t._v("保存")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.modalBox.show=!1}}},[t._v("取消")])],1)],1)],1)],1)},Kt=[],Yt={name:"user-member",components:{},data:function(){var t=this;return{queryEntity:{total:0,pageNum:1,pageSize:10,likeBox:{likeValue:"",column:"username"}},tableModel:{loading:!0,columns:[{title:"ID",key:"id"},{title:"用户名",key:"username"},{title:"角色",render:function(e,a){return e("Tag",t.getRoleObjById(a.row.roleId).roleName)}},{title:"邮箱地址",key:"email"},{title:"最后更新时间",key:"updateTime"},{title:"操作",width:220,render:function(e,a){var n=[];return n.push(e("Button",{props:{type:"info",size:"small",ghost:!0},on:{click:function(){t.updateUser(a.row)}}},"修改")),"Administrator"!==t.getRoleObjById(a.row.roleId).roleCode&&(n.push(e("Button",{style:{"margin-left":"10px"},props:{type:"info",size:"small",ghost:!0},on:{click:function(){t.resetPass(a.row)}}},"重置密码")),n.push(e("Button",{style:{"margin-left":"10px"},props:{type:"warning",size:"small",ghost:!0},on:{click:function(){t.deleteUser(a.row)}}},"删除"))),e("div",n)}}],columnDatas:[]},roleList:[],userEntity:{},modalBox:{show:!1,title:"添加用户"},newPass:""}},created:function(){var t=this;this.loadRoleList((function(){t.loadUserList()}))},methods:{changePage:function(t){this.queryEntity.pageNum=t,this.loadUserList()},changePageSize:function(t){this.queryEntity.pageSize=t,this.loadUserList()},loadRoleList:function(t){var e=this;this.$server.role.getRoleList().then((function(a){var n=a.data;200==n.code?(e.roleList=n.data,t&&t()):e.loadRoleList()}))},loadUserList:function(){var t=this;this.tableModel.loading=!0,this.$server.user.queryUserList(this.queryEntity).then((function(e){var a=e.data;t.tableModel.loading=!1,200==a.code?(t.tableModel.columnDatas=a.data.records,t.queryEntity.total=a.data.total):t.$Message.warning(a.msg)}))},getRoleObjById:function(t){for(var e=0;e<this.roleList.length;e++){var a=this.roleList[e];if(a.id==t)return a}return"未知角色"},updateUser:function(t){this.userEntity=Object.assign({},t),this.modalBox={show:!0,title:"修改用户"}},deleteUser:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"<p>是否删除[".concat(t.username,"]这个用户?</p>"),loading:!0,onOk:function(){e.$server.user.deleteUser(t.id).then((function(t){var a=t.data;e.$Modal.remove(),200==a.code?(e.loadUserList(),e.$Message.info("删除成功")):e.$Message.warning({content:a.msg,duration:2})}))}})},addUser:function(){this.userEntity={},this.modalBox={show:!0,title:"添加用户"}},saveData:function(){var t=this,e=this.userEntity;if(e.username&&""!=e.username.trim())if(e.roleId)if(e.id)this.$server.user.updateUser(e).then((function(e){var a=e.data;200==a.code?(t.modalBox.show=!1,t.loadUserList(),t.$Message.success("添加成功")):t.$Message.warning(a.msg)}));else{if(!e.password||""==e.password.trim())return void this.$Message.warning("密码不能为空");e.password=M()(e.password),this.$server.user.createUser(e).then((function(e){var a=e.data;200==a.code?(t.modalBox.show=!1,t.loadUserList(),t.$Message.success("修改成功")):t.$Message.warning(a.msg)}))}else this.$Message.warning("角色不能为空");else this.$Message.warning("用户名不能为空")},resetPass:function(t){var e=this;this.newPass="",this.$Modal.confirm({title:"重置密码",loading:!0,render:function(a){var n=[];return n.push(a("p",["将要重置",a("b",{style:{color:"red"}},"".concat(t.username)),"的密码,请输入新密码"])),n.push(a("p",{style:{"margin-top":"15px"}},[a("Input",{props:{value:e.newPass,placeholder:"请输入新密码"},on:{input:function(t){e.newPass=t}}})])),a("div",n)},onOk:function(){var a={id:t.id,password:M()(e.newPass)};e.$server.user.resetPass(a).then((function(t){var a=t.data;e.$Modal.remove(),200==a.code?e.$Message.success("重置密码成功"):e.$Message.warning(a.msg)}))}})}}},Wt=Yt,Xt=(a("b809"),Object(d["a"])(Wt,Qt,Kt,!1,null,"4884e5e0",null)),Zt=Xt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projects"},[a("Card",{staticClass:"def-box-shadow",staticStyle:{height:"75px","margin-bottom":"15px"}},[a("Col",{attrs:{span:3}},[a("Button",{attrs:{icon:"md-add",size:"large",type:"primary"},on:{click:function(e){t.projectEntity={},t.modalBox={title:"添加",show:!0}}}},[t._v(" 添加项目 ")])],1),a("Col",{attrs:{span:7,offset:"14"}},[a("Input",{attrs:{size:"large",search:"","enter-button":"",placeholder:"请输入项目名称进行搜索"},on:{"on-search":function(){t.queryEntity.pageNum=1,t.loadProjectList()}},model:{value:t.queryEntity.entity.projectName,callback:function(e){t.$set(t.queryEntity.entity,"projectName",e)},expression:"queryEntity.entity.projectName"}})],1)],1),a("Card",{staticClass:"def-box-shadow auto_height"},[a("Table",{attrs:{"row-key":"id",loading:t.tableModel.loading,columns:t.tableModel.columns,data:t.tableModel.columnDatas}}),a("div",{staticStyle:{"text-align":"right",padding:"15px 0"}},[a("Page",{attrs:{total:t.queryEntity.total,size:"small","page-size":t.queryEntity.pageSize,"show-total":"","show-sizer":"",current:t.queryEntity.pageNum},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:t.modalBox.title,width:"550"},model:{value:t.modalBox.show,callback:function(e){t.$set(t.modalBox,"show",e)},expression:"modalBox.show"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.projectEntity,"label-width":100}},[a("FormItem",{attrs:{label:"项目名称"}},[a("Input",{attrs:{placeholder:"项目名称"},model:{value:t.projectEntity.projectName,callback:function(e){t.$set(t.projectEntity,"projectName",e)},expression:"projectEntity.projectName"}})],1),a("FormItem",{attrs:{label:"项目描述"}},[a("Input",{attrs:{maxlength:"140","show-word-limit":"",type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入项目描述"},model:{value:t.projectEntity.projectDesc,callback:function(e){t.$set(t.projectEntity,"projectDesc",e)},expression:"projectEntity.projectDesc"}})],1),a("FormItem",{attrs:{label:"开发环境地址"}},[a("Input",{attrs:{placeholder:"开发环境地址"},model:{value:t.projectEntity.profileDevUrl,callback:function(e){t.$set(t.projectEntity,"profileDevUrl",e)},expression:"projectEntity.profileDevUrl"}})],1),a("FormItem",{attrs:{label:"测试环境地址"}},[a("Input",{attrs:{placeholder:"测试环境地址"},model:{value:t.projectEntity.profileTestUrl,callback:function(e){t.$set(t.projectEntity,"profileTestUrl",e)},expression:"projectEntity.profileTestUrl"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large"},on:{click:t.saveData}},[t._v("保存")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.modalBox.show=!1}}},[t._v("取消")])],1)],1)],1)],1)},ee=[],ae={name:"projects",components:{},data:function(){var t=this;return{modalBox:{show:!1,title:"添加项目"},projectEntity:{},queryEntity:{total:0,pageNum:1,pageSize:10,entity:{}},tableModel:{loading:!1,columns:[{title:"项目名称",key:"projectName"},{title:"项目描述",key:"projectDesc"},{title:"开发环境地址",key:"profileDevUrl"},{title:"测试环境地址",key:"profileTestUrl"},{title:"最后更新时间",key:"updateTime"},{title:"操作",width:220,render:function(e,a){var n=[];return n.push(e("Button",{props:{type:"info",size:"small",ghost:!0},on:{click:function(){t.updateProject(a.row)}}},"编辑")),n.push(e("Button",{style:{"margin-left":"10px"},props:{type:"error",size:"small",ghost:!0},on:{click:function(){t.deleteProject(a.row)}}},"删除")),n.push(e("Button",{style:{"margin-left":"10px"},props:{type:"warning",size:"small",ghost:!0},on:{click:function(){t.showProject(a.row)}}},"进入项目")),e("div",n)}}],columnDatas:[]}}},created:function(){this.loadProjectList()},methods:{saveData:function(){var t=this,e=this.projectEntity;e&&e.projectName&&""!==e.projectName.trim()?e.id?this.$server.project.updateProject(e).then((function(e){var a=e.data;200==a.code?(t.loadProjectList(),t.modalBox.show=!1,t.$Message.info("修改成功")):t.$Message.warning({content:a.msg,duration:2})})):this.$server.project.saveProject(e).then((function(e){var a=e.data;200==a.code?(t.loadProjectList(),t.modalBox.show=!1,t.$Message.info("添加成功")):t.$Message.warning({content:a.msg,duration:2})})):this.$Message.warning("项目名称不能为空")},updateProject:function(t){this.projectEntity=Object.assign({},t),this.modalBox={title:"修改项目信息",show:!0}},deleteProject:function(t){var e=this;this.$Modal.confirm({title:"删除",content:'<p>是否删除<b style="color:red">'.concat(t.projectName,"</b>这个项目?</p>"),loading:!0,onOk:function(){e.$server.project.deleteProject(t.id).then((function(t){var a=t.data;200==a.code?(e.loadProjectList(),e.$Modal.remove(),e.$Message.info("删除成功")):e.$Message.warning({content:a.msg,duration:2})}))}})},showProject:function(t){this.$router.push({name:"api-list",query:{projectId:t.id}})},changePage:function(t){this.queryEntity.pageNum=t,this.loadProjectList()},changePageSize:function(t){this.queryEntity.pageSize=t,this.loadProjectList()},loadProjectList:function(){var t=this;this.tableModel.loading=!0,this.$server.project.queryProjectPage(this.queryEntity).then((function(e){var a=e.data;t.tableModel.loading=!1,200==a.code?(t.queryEntity.total=a.data.total,t.tableModel.columnDatas=a.data.records):t.$Message.warning(a.msg)}))}}},ne=ae,se=(a("f524"),Object(d["a"])(ne,te,ee,!1,null,"53c16814",null)),ie=se.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-list"},[a("Card",{staticClass:"def-box-shadow",staticStyle:{height:"40px","line-height":"10px"}},[a("Breadcrumb",{attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/projects"}},[t._v("项目管理")]),a("BreadcrumbItem",[t._v("接口管理")])],1)],1),a("div",{staticClass:"content-main"},[a("Row",[a("Col",{attrs:{span:"5"}},[a("a",{staticClass:"projectBlockBtn",attrs:{href:"javaScript:"}},[t._v(" 电子签约 ")]),a("MyList",{staticStyle:{"margin-top":"15px"},attrs:{title:"版本分支","item-tools-render":t.versionItemToolsRender,itemDatas:t.versionItemDatas},on:{"on-item-click":t.versionItemClick},model:{value:t.versionActiveValue,callback:function(e){t.versionActiveValue=e},expression:"versionActiveValue"}},[a("template",{slot:"extra"},[a("span",{on:{click:function(e){t.versionEdit={boxShow:!0,entity:{},isCopy:!1,loading:!1}}}},[a("Icon",{staticClass:"list-hover",staticStyle:{"font-weight":"700","margin-top":"5px","margin-right":"5px",cursor:"pointer"},attrs:{type:"md-add",size:"20"}})],1)])],2),a("MyList",{staticStyle:{"margin-top":"15px"},attrs:{title:"接口分组",itemDatas:t.groupItemDatas,"item-tools-render":t.groupItemToolsRender},on:{"on-item-click":t.groupItemClick},model:{value:t.groupActiveValue,callback:function(e){t.groupActiveValue=e},expression:"groupActiveValue"}},[a("span",{attrs:{slot:"extra"},on:{click:function(e){t.groupEdit={boxShow:!0,entity:{},loading:!1}}},slot:"extra"},[a("Icon",{staticClass:"list-hover",staticStyle:{"font-weight":"700","margin-top":"5px","margin-right":"5px",cursor:"pointer"},attrs:{type:"md-add",size:"20"}})],1)])],1),a("Col",{staticStyle:{"padding-left":"25px"},attrs:{span:"19"}},[a("MyTable",{attrs:{columns:t.columns,columnDatas:t.columnDatas,iviewTable:""},scopedSlots:t._u([{key:"header-left",fn:function(){return[a("Button",{staticClass:"add-btn",attrs:{icon:"md-add",type:"info",size:"small"},on:{click:function(e){return t.$router.push({name:"api-edit",query:{proVersionId:t.versionActiveValue}})}}},[t._v("添加接口 ")])]},proxy:!0},{key:"header-right",fn:function(){return[a("Input",{attrs:{search:"",size:"small",placeholder:"接口名称"},on:{"on-search":t.loadApiInfoList},model:{value:t.apiQueryEntity.likeBox.likeValue,callback:function(e){t.$set(t.apiQueryEntity.likeBox,"likeValue",e)},expression:"apiQueryEntity.likeBox.likeValue"}})]},proxy:!0},{key:"floor",fn:function(){return[a("div",{staticClass:"floor-content",staticStyle:{width:"100%","text-align":"right"}},[a("Page",{attrs:{current:t.apiQueryEntity.pageNum,total:t.apiQueryEntity.total,"page-size":15,size:"small","show-total":""},on:{"on-change":function(e){t.apiQueryEntity.pageNum=e,t.loadApiInfoList()}}})],1)]},proxy:!0}])})],1)],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:"添加版本分支",width:"500"},model:{value:t.versionEdit.boxShow,callback:function(e){t.$set(t.versionEdit,"boxShow",e)},expression:"versionEdit.boxShow"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.versionEdit.entity,"label-width":80}},[a("FormItem",{attrs:{label:"版本名称"}},[a("Input",{attrs:{placeholder:"请输入版本名称"},model:{value:t.versionEdit.entity.versionInfo,callback:function(e){t.$set(t.versionEdit.entity,"versionInfo",e)},expression:"versionEdit.entity.versionInfo"}})],1),a("FormItem",[a("Checkbox",{model:{value:t.versionEdit.isCopy,callback:function(e){t.$set(t.versionEdit,"isCopy",e)},expression:"versionEdit.isCopy"}},[t._v("从现有版本分支中拷贝")])],1),t.versionEdit.isCopy?a("FormItem",{attrs:{label:"目标版本"}},[a("Select",{model:{value:t.versionEdit.entity.copyVersionId,callback:function(e){t.$set(t.versionEdit.entity,"copyVersionId",e)},expression:"versionEdit.entity.copyVersionId"}},t._l(t.versionItemDatas,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label)+" ")])})),1)],1):t._e(),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large",loading:t.versionEdit.loading},on:{click:function(e){return t.saveVersionData()}}},[t._v("保存 ")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.versionEdit.boxShow=!1}}},[t._v("取消 ")])],1)],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:"添加接口分组",width:"500"},model:{value:t.groupEdit.boxShow,callback:function(e){t.$set(t.groupEdit,"boxShow",e)},expression:"groupEdit.boxShow"}},[a("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.groupEdit.entity,"label-width":80}},[a("FormItem",{attrs:{label:"分组名称"}},[a("Input",{attrs:{placeholder:"请输入分组名称"},model:{value:t.groupEdit.entity.groupName,callback:function(e){t.$set(t.groupEdit.entity,"groupName",e)},expression:"groupEdit.entity.groupName"}})],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large",loading:t.groupEdit.loading},on:{click:function(e){return t.saveGroupData()}}},[t._v("保存 ")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.groupEdit.boxShow=!1}}},[t._v("取消 ")])],1)],1)],1),a("MyLoading",{attrs:{show:t.loading,type:"3",text:"数据准备中..."}})],1)},re=[],le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-list"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t.title?[t._v(t._s(t.title))]:t._t("title")],2),a("div",{staticClass:"extra"},[t._t("extra")],2)]),a("div",{staticClass:"content"},[a("ul",[t._l(t.itemDataLists,(function(e,n){return[a("li",{key:n,class:{active:e.value==t.value}},[a("div",{staticClass:"content",on:{click:function(){t.$emit("input",e.value),t.emitItemClick(e,n)}}},[e.icon?a("Icon",{staticStyle:{"font-weight":"700","margin-right":"5px"},attrs:{type:e.icon}}):t._e(),t._v(t._s(e.label)+" ")],1),t.itemToolsRender?a("div",{staticClass:"tools"},[a("MyRender",{attrs:{scoped:{row:e,index:n,count:t.itemDataLists.length},renderFn:t.itemToolsRender}})],1):t._e()])]}))],2)])])},ce=[],ue={name:"my-render",props:{renderFn:{type:Function,required:!0},scoped:{type:Object,required:!0}},render:function(t){return this.renderFn(t,this.scoped)}},de={name:"my-list",components:{MyRender:ue},data:function(){return{slotItemDatas:[]}},updated:function(){this.activeItem&&this.emitItemClick(this.activeItem)},computed:{itemDataLists:function(){return this.itemDatas?this.itemDatas:this.slotItemDatas},activeItem:function(){return this.getItem(this.value)}},created:function(){this.initSlotItemDatas()},props:{title:{type:String,required:!1,default:function(){return null}},itemDatas:{type:Array,required:!1,default:function(){return null}},value:{type:String,required:!1,default:function(){return null}},itemToolsRender:{type:Function,required:!1,default:void 0}},methods:{getItem:function(t){var e,a=Object(mt["a"])(this.itemDataLists);try{for(a.s();!(e=a.n()).done;){var n=e.value;if(n.value==t)return n}}catch(s){a.e(s)}finally{a.f()}return null},initSlotItemDatas:function(){var t=this.$slots.default;if(t){var e,a=[],n=Object(mt["a"])(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;if(s.data&&"my-list-item"===s.componentOptions.Ctor.extendOptions.name){var i=Object(S["a"])({},s.componentOptions.propsData);a.push(i)}}}catch(o){n.e(o)}finally{n.f()}this.slotItemDatas=a}},emitItemClick:function(t,e){this.active!==t&&(this.active=t,this.$emit("on-item-click",t))}}},pe=de,me=(a("6d75"),Object(d["a"])(pe,le,ce,!1,null,"4f3310bf",null)),fe=me.exports,ge={name:"my-list-item",props:{icon:{type:String,required:!1,default:function(){return null}},label:String,value:Object}},ye=ge,he=Object(d["a"])(ye,s,i,!1,null,null,null),ve=he.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-table"},[a("div",{staticClass:"header"},[a("div",{staticClass:"full-left"},[t._t("header-left")],2),a("div",{staticClass:"full-right"},[t._t("header-right")],2)]),t.iviewTable?[a("Table",{attrs:{columns:t.columns,data:t.columnDatas}})]:[a("table",{staticClass:"table"},[a("thead",[a("tr",{staticClass:"text-full-left"},t._l(t.columns,(function(e,n){return a("th",{key:n},[t._v(t._s(e.title))])})),0)]),a("tbody",t._l(t.columnDatas,(function(e,n){return a("tr",{key:n,staticClass:"text-full-left"},t._l(t.columns,(function(n,s){return a("td",{key:s},[t._v(" "+t._s(e[n.key])+" ")])})),0)})),0)])],a("div",{staticClass:"floor"},[t._t("floor")],2)],2)},xe=[],we={name:"my-table",data:function(){return{}},props:{columns:{type:Array,required:!0},columnDatas:{type:Array,required:!0}},computed:{iviewTable:function(){var t=this.$attrs;return!(!t||!t.hasOwnProperty("iviewTable"))}}},Ce=we,_e=(a("6dee"),Object(d["a"])(Ce,be,xe,!1,null,"60c9c280",null)),ke=_e.exports,Ie={name:"api-list",components:{MyListItem:ve,MyList:fe,MyTable:ke,MyLoading:Ft},data:function(){var t=this;return{versionEdit:{boxShow:!1,loading:!1,entity:{}},groupEdit:{boxShow:!1,loading:!1,entity:{}},apiEntity:{},versionActiveValue:"",groupActiveValue:"",loading:!0,columns:[{title:"URL",key:"apiUrl",width:"300",render:function(t,e){var a=e.row,n=(e.index,"default");return"POST"==a.reqMethod?n="warning":"GET"==a.reqMethod?n="primary":"DELETE"==a.reqMethod?n="error":"PUT"==a.reqMethod&&(n="geekblue"),t("span",[t("Tag",{props:{color:n}},a.reqMethod),a.apiUrl])}},{title:"名称",key:"apiDesc"},{title:"分组",key:"groupId",render:function(e,a){var n=a.row,s=(a.index,"默认分组");if("0"!==n.groupId&&t.groupItemDatas.length>0){var i,o=Object(mt["a"])(t.groupItemDatas);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r.value==n.groupId){s=r.label;break}}}catch(l){o.e(l)}finally{o.f()}}return e("span",s)}},{title:"状态",width:"100",render:function(t,e){var a,n=e.row;e.index;return a=1===n.status?t("Tag",{props:{color:"cyan"}},"正常"):2===n.status?t("Tag","维护"):3===n.status?t("Tag",{props:{color:"red"}},"废弃"):t("Tag",n.status),a}},{title:"操作",width:"140",render:function(e,a){var n=a.row,s=(a.index,[]);return s.push(e("span",{class:{"my-tag":!0,"my-tag-info":!0},on:{click:function(){t.$router.push({name:"api-edit",query:{proVersionId:t.versionActiveValue,apiInfoId:n.id}})}}},"编辑")),s.push(e("span",{class:{"my-tag":!0,"my-tag-error":!0},on:{click:function(){t.deleteBtnClick(n)}}},"删除")),e("div",s)}}],columnDatas:[],projectId:"",projectInfo:{},versionItemDatas:[],groupItemDatas:[],apiQueryEntity:{pageSize:15,pageNum:1,total:0,entity:{projectVersionId:null},likeBox:{column:"api_url,api_desc"}}}},methods:{saveGroupData:function(){var t=this,e={projectVersionId:this.versionActiveValue,groupName:this.groupEdit.entity.groupName};this.groupEdit.loading=!0,this.$server.project.addProjectGroup(e).then((function(e){var a=e.data;t.groupEdit.loading=!1,200==a.code?(t.groupEdit.boxShow=!1,t.$Message.success("添加成功"),t.loadApiGroups()):t.$Message.warning(a.msg)}))},saveVersionData:function(){var t=this,e={projectId:this.projectId,versionInfo:this.versionEdit.entity.versionInfo};this.versionEdit.isCopy&&(e.copyVersionId=this.versionEdit.entity.copyVersionId),this.versionEdit.loading=!0,this.$server.project.addProjectVersion(e).then((function(e){var a=e.data;t.versionEdit.loading=!1,200==a.code?(t.versionEdit.boxShow=!1,t.$Message.success("添加成功"),t.initProjectAndVersions()):t.$Message.warning(a.msg)}))},deleteBtnClick:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"<p>是否删除接口 '".concat(t.reqMethod+":"+t.apiUrl,"'?</p>"),loading:!0,onOk:function(){e.$server.api.deleteApiInfo(t.id).then((function(t){var a=t.data;e.$Modal.remove(),200==a.code?(e.loadApiInfoList(),e.$Message.info("删除成功")):e.$Message.warning({content:a.msg,duration:2})}))}})},storeGroup:function(){this.$bus.storage.session.setItem("groupItemDatas",this.groupItemDatas)},versionItemClick:function(t){this.apiQueryEntity.entity.projectVersionId=t.value,this.loadApiGroups()},groupItemClick:function(t){console.log(t),this.apiQueryEntity.entity.groupId=t.value,this.loadApiInfoList()},loadApiInfoList:function(){var t=this;this.apiQueryEntity.entity&&"0"===this.apiQueryEntity.entity.groupId&&delete this.apiQueryEntity.entity.groupId,this.loading=!0,this.$server.api.getApiPage(this.apiQueryEntity).then((function(e){var a=e.data;t.loading=!1,200==a.code?(t.columnDatas=a.data.records,t.apiQueryEntity.total=a.data.total):t.$Message.warning(a.msg)}))},loadApiGroups:function(){var t=this;this.loading=!0,this.$server.api.getGroupListByVersionId(this.versionActiveValue).then((function(e){var a=e.data;t.loading=!1,200==a.code?(t.groupItemDatas=t.formatGroupItemDatas(a.data),t.storeGroup(),t.groupActiveValue=t.groupItemDatas[0].value):t.$Message.warning(a.msg)}))},initProjectAndVersions:function(){var t=this;this.loading=!0,this.$server.multi(this.$server.project.getProjectById(this.projectId),this.$server.project.proVersionList(this.projectId)).then((function(e){var a=e[0].data,n=e[1].data;t.loading=!1,200==a.code&&200==n.code?(t.projectInfo=a.data,t.versionItemDatas=t.formatVersionData(n.data),t.versionActiveValue=t.versionItemDatas[0].value):t.$Message.warning(a.msg|n.msg)}))},formatGroupItemDatas:function(t){var e=[{icon:"md-git-branch",label:"全部",value:"0",defActive:!0}];if(!t||0==t.length)return e;var a,n=Object(mt["a"])(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;e.push({icon:"md-git-branch",label:s.groupName,value:s.id})}}catch(i){n.e(i)}finally{n.f()}return e},formatVersionData:function(t){if(!t||0==t.length)return[];var e,a=[],n=Object(mt["a"])(t);try{for(n.s();!(e=n.n()).done;){var s=e.value;a.push({icon:"md-git-branch",label:s.versionInfo,value:s.id})}}catch(i){n.e(i)}finally{n.f()}return a.length>0&&(a[0].defActive=!0),a},deleteVersion:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"<p>是否删除 '".concat(t.label,"' 这个项目版本?</p>"),loading:!0,onOk:function(){e.$server.project.deleteProjectVersion(t.value).then((function(t){var a=t.data;200==a.code?(e.$Modal.remove(),e.$Message.success("删除成功"),e.initProjectAndVersions()):e.$Message.warning(a.msg)}))}})},deleteGroup:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"<p>是否删除 '".concat(t.label,"' 这个分组?</p>"),loading:!0,onOk:function(){e.$server.project.deleteProjectGroup(t.value).then((function(t){var a=t.data;200==a.code?(e.$Modal.remove(),e.$Message.success("删除成功"),e.loadApiGroups()):e.$Message.warning(a.msg)}))}})},versionItemToolsRender:function(t,e){var a=this,n=e.row,s=(e.index,e.count),i=[];return s>1&&i.push(t("Icon",{props:{type:"md-trash",size:"18"},on:{click:function(){a.deleteVersion(n)}}})),t("span",{class:{"list-hover":!0}},i)},groupItemToolsRender:function(t,e){var a=this,n=e.row,s=(e.index,[]);return"全部"!==n.label&&s.push(t("Icon",{props:{type:"md-trash",size:"18"},on:{click:function(){a.deleteGroup(n)}}})),t("span",{class:{"list-hover":!0}},s)}},created:function(){var t=this;this.$bus.$on("api-list::initDatas",(function(){t.projectId=t.$route.query.projectId,t.initProjectAndVersions()})),this.$bus.$on("api-list::initApiList",(function(){t.apiQueryEntity.pageNum=1,t.loadApiInfoList()})),this.$bus.$emit("api-list::initDatas")}},Ee=Ie,$e=(a("53db"),Object(d["a"])(Ee,oe,re,!1,null,"9232d0b8",null)),Se=$e.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-edit"},[a("p"),a("h2",{staticStyle:{"font-weight":"500","margin-bottom":"10px"}},[t._v(" "+t._s(t.title)+" ")]),a("p"),a("MyCard",{attrs:{title:"基础信息"},scopedSlots:t._u([{key:"extra",fn:function(){return[a("div",{staticStyle:{padding:"6px"}},[a("span",{staticClass:"my-tag",on:{click:function(e){return t.toBack()}}},[t._v("返回接口列表")]),a("span",{staticClass:"my-tag my-tag-info",on:{click:t.saveData}},[t._v("保存接口")])])]},proxy:!0}])},[a("Row",[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("URL")])]),a("Col",{attrs:{span:"10"}},[a("Input",{attrs:{placeholder:"请输入URL"},model:{value:t.apiEntity.apiUrl,callback:function(e){t.$set(t.apiEntity,"apiUrl",e)},expression:"apiEntity.apiUrl"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2",offset:"1"}},[a("label",{staticClass:"my-label"},[t._v("分组")])]),a("Col",{attrs:{span:"9"}},[a("Select",{attrs:{filterable:""},model:{value:t.apiEntity.groupId,callback:function(e){t.$set(t.apiEntity,"groupId",e)},expression:"apiEntity.groupId"}},t._l(t.groupItemDatas,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1),a("Row",{staticStyle:{"margin-top":"15px"}},[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("Method")])]),a("Col",{attrs:{span:"10"}},[a("Select",{attrs:{filterable:""},model:{value:t.apiEntity.reqMethod,callback:function(e){t.$set(t.apiEntity,"reqMethod",e)},expression:"apiEntity.reqMethod"}},t._l(t.$parent.requestMethods,(function(e){return a("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2",offset:"1"}},[a("label",{staticClass:"my-label"},[t._v("状态")])]),a("Col",{attrs:{span:"9"}},[a("RadioGroup",{model:{value:t.apiEntity.status,callback:function(e){t.$set(t.apiEntity,"status",e)},expression:"apiEntity.status"}},[a("Radio",{attrs:{label:1,border:""}},[t._v("正常")]),a("Radio",{attrs:{label:2,border:""}},[t._v("维护")]),a("Radio",{attrs:{label:3,border:""}},[t._v("废弃")])],1)],1)],1),a("Row",{staticStyle:{"margin-top":"15px"}},[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("名称")])]),a("Col",{attrs:{span:"22"}},[a("Input",{attrs:{placeholder:"请输入名称"},model:{value:t.apiEntity.apiDesc,callback:function(e){t.$set(t.apiEntity,"apiDesc",e)},expression:"apiEntity.apiDesc"}})],1)],1)],1),a("MyCard",{staticStyle:{"margin-top":"20px"},attrs:{title:"请求头信息"},scopedSlots:t._u([{key:"extra",fn:function(){return[a("span",{staticClass:"tools-add",on:{click:function(e){return t.headers.push({key:"",value:""})}}},[a("Icon",{attrs:{type:"md-add-circle",size:"20"}})],1)]},proxy:!0}])},t._l(t.headers,(function(e,n){return a("Row",{key:n,staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("Key")])]),a("Col",{attrs:{span:"8"}},[a("AutoCompleteWrap",{attrs:{placeholder:"请输入请求头名称",datas:t.$parent.requestHeaderNames},model:{value:e.key,callback:function(a){t.$set(e,"key",a)},expression:"item.key"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2",offset:"1"}},[a("label",{staticClass:"my-label"},[t._v("Value")])]),a("Col",{attrs:{span:"8"}},[a("Input",{attrs:{placeholder:"请输入VALUE"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1),a("Col",{attrs:{span:"1"}},[a("span",{staticClass:"del-btn",on:{click:function(e){return t.headers.splice(n,1)}}},[a("Icon",{attrs:{type:"md-close",size:"18"}})],1)])],1)})),1),a("MyCard",{staticStyle:{"margin-top":"20px"},attrs:{title:"请求参数"},scopedSlots:t._u([{key:"extra",fn:function(){return[0==t.tabIndex?[a("span",{staticClass:"tools-add"},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",width:"550"},scopedSlots:t._u([{key:"content",fn:function(){return[a("p",[t._v(" QUERY参数就是把参数拼接到请求的URL中,格式如："),a("b",[t._v("http://www.baidu.com/"),a("span",{staticStyle:{color:"#e6813a"}},[t._v("?a=test&b=1")])])])]},proxy:!0}],null,!1,4080036434)},[a("Icon",{attrs:{type:"md-help",size:"17"}})],1)],1),a("span",{staticClass:"tools-add",on:{click:function(e){return t.reqContent.query.definitions.push({name:"",desc:"",type:"String",required:1})}}},[a("Icon",{attrs:{type:"md-add-circle",size:"20"}})],1)]:t._e(),1==t.tabIndex?[a("span",{staticClass:"tools-add"},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",width:"550"},scopedSlots:t._u([{key:"content",fn:function(){return[a("p",[t._v(" URL参数也会把参数拼接到请求的URL中,但是和QUERY不一样，格式如："),a("b",[t._v("http://www.baidu.com/"),a("span",{staticStyle:{color:"#e6813a"}},[t._v("param1")]),t._v("/"),a("span",{staticStyle:{color:"#e6813a"}},[t._v("param2")])]),t._v(" ,URL中需要使用"),a("b",[t._v("/{paramName}")]),t._v("方式进行参数声明,如："),a("span",{staticStyle:{color:"#e6813a"}},[t._v("/user/{userId}")])])]},proxy:!0}],null,!1,1972374490)},[a("Icon",{attrs:{type:"md-help",size:"17"}})],1)],1)]:t._e(),2==t.tabIndex?[a("Poptip",{attrs:{placement:"bottom","word-wrap":"",width:"550"},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticStyle:{padding:"8px 2px"}},[a("div",{staticClass:"generate-json-definite "},[a("span",{staticClass:"generate",class:{"generate-info":t.bodyExampleJsoned},on:{click:function(){t.reqContent.body.example=JSON.stringify(JSON.parse(t.reqContent.body.example),"",4),t.reqContent.body.definitions=t.generateJson(JSON.parse(t.reqContent.body.example))}}},[t._v("生成参数信息")])]),a("div",{staticClass:"json-content",staticStyle:{"border-color":"#3C8DBC"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reqContent.body.example,expression:"reqContent.body.example"}],staticClass:"json-textarea",attrs:{placeholder:'请填写JSON格式示例数据，如:{"username":"zhangsan","password":"123456"}'},domProps:{value:t.reqContent.body.example},on:{input:function(e){e.target.composing||t.$set(t.reqContent.body,"example",e.target.value)}}})])])]},proxy:!0}],null,!1,4091529714)},[a("span",{staticClass:"example-add-btn my-tag my-tag-info"},[t._v(" 添加示例数据 ")])]),a("span",{staticClass:"tools-add"},[a("Poptip",{attrs:{trigger:"hover","word-wrap":"",width:"550"},scopedSlots:t._u([{key:"content",fn:function(){return[a("p",[t._v(" Body参数会把参数放在请求的请求Body中,默认情况下只有"),a("span",{staticStyle:{color:"#e6813a"}},[t._v("POST")]),t._v("和"),a("span",{staticStyle:{color:"#e6813a"}},[t._v("PUT")]),t._v("才会使用请求体参数 ")])]},proxy:!0}],null,!1,4005087717)},[a("Icon",{attrs:{type:"md-help",size:"17"}})],1)],1),a("span",{staticClass:"tools-add",on:{click:function(e){return t.reqContent.body.definitions.push({name:"",desc:"",type:"String",required:1,propertys:[]})}}},[a("Icon",{attrs:{type:"md-add-circle",size:"20"}})],1)]:t._e()]},proxy:!0}])},[a("Tabs",{model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[a("TabPane",{attrs:{label:"QUERY参数"}},t._l(t.reqContent.query.definitions,(function(e,n){return a("Row",{key:n,staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("参数")])]),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{placeholder:"请输入参数名"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("说明")])]),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{placeholder:"请输入描述信息"},model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"item.desc"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("类型")])]),a("Col",{attrs:{span:"4"}},[a("Select",{attrs:{disabled:""},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},[a("Option",{attrs:{value:"String"}},[t._v("String")])],1)],1),a("Col",{attrs:{span:"3",offset:"1"}},["Object"!==e.type?a("Select",{model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}},[a("Option",{attrs:{value:1}},[t._v("必填")]),a("Option",{attrs:{value:0}},[t._v("非必填")])],1):t._e()],1),a("Col",{attrs:{span:"1"}},[a("span",{staticClass:"del-btn",on:{click:function(e){return t.reqContent.query.definitions.splice(n,1)}}},[a("Icon",{attrs:{type:"md-close",size:"18"}})],1)])],1)})),1),a("TabPane",{attrs:{label:"URL参数",disabled:t.urlParamDisable}},t._l(t.reqContent.param.definitions,(function(e,n){return a("Row",{key:n,staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("参数")])]),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{placeholder:"请输入参数名",disabled:""},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("说明")])]),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{placeholder:"请输入描述信息"},model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"item.desc"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("类型")])]),a("Col",{attrs:{span:"4"}},[a("Select",{attrs:{disabled:""},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},[a("Option",{attrs:{value:"Object"}},[t._v("Object")]),t._l(t.dataTypes,(function(e){return a("Option",{key:e.id,attrs:{value:e.typeName}},[t._v(t._s(e.typeName))])}))],2)],1),a("Col",{attrs:{span:"3",offset:"1"}},["Object"!==e.type?a("Select",{attrs:{disabled:""},model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}},[a("Option",{attrs:{value:1}},[t._v("必填")]),a("Option",{attrs:{value:0}},[t._v("非必填")])],1):t._e()],1)],1)})),1),a("TabPane",{attrs:{label:"Body参数",disabled:"POST"!==t.apiEntity.reqMethod&&"PUT"!==t.apiEntity.reqMethod}},[a("MyBodyParams",{attrs:{datas:t.reqContent.body.definitions,dataTypes:t.dataTypes}})],1)],1)],1),a("MyCard",{staticStyle:{"margin-top":"20px"},attrs:{title:"响应结果","top-color":!1},scopedSlots:t._u([{key:"extra",fn:function(){return[a("div",{staticClass:"res_tools_groups"},[a("span",{staticClass:"top-line"}),a("div",{class:{active:1==t.responOptionActive},on:{click:function(e){t.viewType=1,t.responOptionActive=1}}},[t._v("成功的响应")]),a("div",{class:{active:2==t.responOptionActive},on:{click:function(e){t.viewType=1,t.responOptionActive=2}}},[t._v("失败的响应")])])]},proxy:!0}])},[a("p",{staticStyle:{"margin-bottom":"15px",position:"relative"}},[a("label",{staticStyle:{"margin-right":"15px"}},[t._v("响应数据类型(MIME)")]),a("RadioGroup",{model:{value:t.apiEntity.resDataType,callback:function(e){t.$set(t.apiEntity,"resDataType",e)},expression:"apiEntity.resDataType"}},[a("Radio",{attrs:{label:"JSON"}}),a("Radio",{attrs:{label:"XML",disabled:""}}),a("Radio",{attrs:{label:"HTML",disabled:""}}),a("Radio",{attrs:{label:"TEXT",disabled:""}}),a("Radio",{attrs:{label:"JSONP",disabled:""}})],1),1==t.responOptionActive&&t.resDataBox.successed.desced&&2==t.viewType?a("span",{staticClass:"property-add-btn",staticStyle:{right:"280px"},on:{click:function(e){return t.generateSuccessPropertyJson()}}},[a("Icon",{attrs:{type:"md-add-circle",size:"16"}}),t._v("生成属性")],1):t._e(),2==t.responOptionActive&&t.resDataBox.errored.desced&&2==t.viewType?a("span",{staticClass:"property-add-btn",staticStyle:{right:"280px"},on:{click:function(){t.resDataBox.errored.propertyDescs=t.generateJson(JSON.parse(t.resDataBox.errored.json))}}},[a("Icon",{attrs:{type:"md-add-circle",size:"16"}}),t._v("生成属性")],1):t._e(),1==t.responOptionActive&&t.resDataBox.successed.desced?a("span",{staticClass:"property-add-btn",on:{click:function(e){return t.resDataBox.successed.propertyDescs.push({name:"",desc:"",type:"String",required:1,propertys:[]})}}},[a("Icon",{attrs:{type:"md-add-circle",size:"16"}}),t._v("添加属性")],1):t._e(),2==t.responOptionActive&&t.resDataBox.errored.desced?a("span",{staticClass:"property-add-btn",on:{click:function(e){return t.resDataBox.errored.propertyDescs.push({name:"",desc:"",type:"String",required:1,propertys:[]})}}},[a("Icon",{attrs:{type:"md-add-circle",size:"16"}}),t._v("添加属性")],1):t._e(),1==t.responOptionActive?a("Checkbox",{staticStyle:{position:"absolute",right:"100px"},attrs:{"true-value":!0,"false-value":!1},model:{value:t.resDataBox.successed.desced,callback:function(e){t.$set(t.resDataBox.successed,"desced",e)},expression:"resDataBox.successed.desced"}},[t._v("属性描述")]):t._e(),2==t.responOptionActive?a("Checkbox",{staticStyle:{position:"absolute",right:"100px"},attrs:{"true-value":!0,"false-value":!1},model:{value:t.resDataBox.errored.desced,callback:function(e){t.$set(t.resDataBox.errored,"desced",e)},expression:"resDataBox.errored.desced"}},[t._v("属性描述")]):t._e(),1==t.viewType?a("span",{staticClass:"json-format-btn",on:{click:t.switchView}},[t._v(" JSON视图 ")]):t._e(),2==t.viewType?a("span",{staticClass:"json-format-btn",on:{click:function(e){t.viewType=1}}},[t._v(" 编辑视图 ")]):t._e()],1),1==t.responOptionActive?[a("div",{staticClass:"json-content",style:{"border-color":t.flag1?"#3C8DBC":"#e7e7e7"}},[1==t.viewType?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.resDataBox.successed.json,expression:"resDataBox.successed.json"}],staticClass:"json-textarea",domProps:{value:t.resDataBox.successed.json},on:{focus:function(e){t.flag1=!0},blur:function(e){t.flag1=!1},input:function(e){e.target.composing||t.$set(t.resDataBox.successed,"json",e.target.value)}}}):t._e(),2==t.viewType?a("JsonView",{attrs:{data:t.jsonViewData,"font-size":13}}):t._e()],1),t.resDataBox.successed.desced?[a("Divider",{attrs:{orientation:"left"}},[t._v("属性说明")]),a("MyBodyParams",{attrs:{datas:t.resDataBox.successed.propertyDescs,dataTypes:t.dataTypes}})]:t._e()]:t._e(),2==t.responOptionActive?[a("div",{staticClass:"json-content",style:{"border-color":t.flag1?"#3C8DBC":"#e7e7e7"}},[1==t.viewType?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.resDataBox.errored.json,expression:"resDataBox.errored.json"}],staticClass:"json-textarea",domProps:{value:t.resDataBox.errored.json},on:{focus:function(e){t.flag1=!0},blur:function(e){t.flag1=!1},input:function(e){e.target.composing||t.$set(t.resDataBox.errored,"json",e.target.value)}}}):t._e(),2==t.viewType?a("JsonView",{attrs:{data:t.jsonViewData,"font-size":13}}):t._e()],1),t.resDataBox.errored.desced?[a("Divider",{attrs:{orientation:"left"}},[t._v("属性说明")]),a("MyBodyParams",{attrs:{datas:t.resDataBox.errored.propertyDescs,dataTypes:t.dataTypes}})]:t._e()]:t._e()],2),a("MyLoading",{attrs:{show:t.loading,type:"3",text:"数据准备中..."}})],1)},Me=[],De=(a("7039"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-body-params"},t._l(t.datas,(function(e,n){return a("Row",{key:n,staticStyle:{padding:"10px",border:"3px dashed transparent"},style:{"border-color":"Object"==e.type?"#dfe1e1":"transparent"}},[a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("参数")])]),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{placeholder:"请输入参数名"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("说明")])]),a("Col",{attrs:{span:"4"}},[a("Input",{attrs:{placeholder:"请输入描述信息"},model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"item.desc"}})],1),a("Col",{staticClass:"text-full-right",attrs:{span:"2"}},[a("label",{staticClass:"my-label"},[t._v("类型")])]),a("Col",{attrs:{span:"4"}},[a("Select",{attrs:{filterable:""},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},[a("Option",{attrs:{value:"Object"}},[t._v("Object")]),t._l(t.dataTypes,(function(e){return a("Option",{key:e.id,attrs:{value:e.typeName}},[t._v(t._s(e.typeName))])}))],2)],1),a("Col",{attrs:{span:"3",offset:"1"}},["Object"!==e.type?a("Select",{model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"item.required"}},[a("Option",{attrs:{value:1}},[t._v("必填")]),a("Option",{attrs:{value:0}},[t._v("非必填")])],1):[a("Button",{attrs:{long:""},on:{click:function(a){return t.addProperty(e)}}},[t._v("添加属性")])]],2),a("Col",{attrs:{span:"1"}},[a("span",{staticClass:"del-btn",on:{click:function(e){return t.datas.splice(n,1)}}},[a("Icon",{attrs:{type:"md-close",size:"18"}})],1)]),"Object"==e.type&&e.propertys&&e.propertys.length>0?a("Col",{style:{"margin-top":"Object"==e.type?"15px":"0"},attrs:{span:"24"}},[a("my-body-params",{attrs:{datas:e.propertys,dataTypes:t.dataTypes}})],1):t._e()],1)})),1)}),Oe=[],qe={name:"my-body-params",data:function(){return{}},props:{datas:{type:Array,required:!0},dataTypes:{type:Array,required:!0}},methods:{addProperty:function(t){t.propertys.push({name:"",desc:"",type:"String",required:1,propertys:[]})}}},Be=qe,Pe=(a("799d"),Object(d["a"])(Be,De,Oe,!1,null,"f31c2560",null)),Te=Pe.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-card",class:{"top-color":t.topColor}},[t.title||t.$slots.title||t.$slots.extra?a("div",{staticClass:"header",style:{"min-height":t.headerHeight+"px"}},[a("div",{staticClass:"title"},[t.title&&!t.$slots.title?[t._v(t._s(t.title))]:t._t("title")],2),a("div",{staticClass:"extra"},[t._t("extra")],2)]):t._e(),a("div",{staticClass:"content"},[t._t("default")],2)])},Re=[],Le=(a("a9e3"),{name:"my-card",data:function(){return{}},props:{title:{type:String,required:!1,default:function(){return null}},"top-color":{type:Boolean,required:!1,default:function(){return!0}},"header-height":{type:Number,required:!1,default:function(){return 40}}},methods:{}}),Ae=Le,ze=(a("1933"),Object(d["a"])(Ae,Ne,Re,!1,null,"330ba7dc",null)),Ve=ze.exports,Fe={name:"auto-complete-wrap",data:function(){return{matcheDatas:this.datas}},props:{handleSearchFn:{required:!1,type:Function,default:function(t,e){var a,n=[],s=Object(mt["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=a.value;-1!==i.toUpperCase().indexOf(t.toUpperCase())&&n.push(i)}}catch(o){s.e(o)}finally{s.f()}return n}},datas:{type:Array,required:!0},value:{type:String,required:!1,default:function(){return""}},placeholder:String},methods:{handleSearch:function(t){this.matcheDatas=t?this.handleSearchFn(t,this.datas):this.datas}},render:function(t){var e=this;return t("AutoComplete",{on:{input:function(t){e.$emit("input",t)},"on-search":function(t){e.handleSearch(t)}},props:{value:this.value,data:this.matcheDatas,placeholder:this.placeholder}})}},Ue={name:"api-edit",components:{MyCard:Ve,JsonView:ht.a,AutoCompleteWrap:Fe,MyBodyParams:Te,MyLoading:Ft},data:function(){return{loading:!1,responOptionActive:1,title:"",dataTypes:[],headers:[],viewType:1,apiEntity:{resContent:""},resDataBox:{successed:{json:"",desced:!1,propertyDescs:[]},errored:{json:"",desced:!1,propertyDescs:[]}},jsonViewData:{},requestHeaderNames:[],reqContent:{body:{example:"",definitions:[]},query:{definitions:[]},param:{definitions:[]}},flag1:!1,tabIndex:0}},created:function(){var t=this;this.$route.query.apiInfoId&&""!=this.$route.query.apiInfoId?(this.title="编辑接口",this.loadApiInfo(this.$route.query.apiInfoId,(function(){t.headers=t.apiEntity.reqHeaders?JSON.parse(t.apiEntity.reqHeaders):t.headers,t.reqContent=t.apiEntity.reqContent?JSON.parse(t.apiEntity.reqContent):t.apiEntity.reqContent,t.resDataBox=t.apiEntity.resContent?JSON.parse(t.apiEntity.resContent):t.apiEntity.resContent,setTimeout((function(){t.resDataBox.successed.propertyDescs=JSON.parse(t.apiEntity.resContent).successed.propertyDescs,t.resDataBox.errored.propertyDescs=JSON.parse(t.apiEntity.resContent).errored.propertyDescs,t.reqContent.param.definitions=JSON.parse(t.apiEntity.reqContent).param.definitions}),10)}))):(this.title="新增接口",this.initDatas()),this.loadDataTypes()},mounted:function(){document.querySelector(".res_tools_groups > .top-line").style.width=document.querySelector(".res_tools_groups .active").offsetWidth+"px"},watch:{"apiEntity.apiUrl":function(t,e){var a=this.urlParamList.map((function(t){return{name:t,desc:"",type:"String",required:1}}));this.reqContent.param.definitions=a},responOptionActive:function(t,e){var a=document.querySelector(".res_tools_groups > .top-line");setTimeout((function(){a.style.left=document.querySelector(".res_tools_groups .active").offsetLeft+"px"}),1)}},computed:{groupItemDatas:function(){return this.$bus.storage.session.getItem("groupItemDatas")},urlParamDisable:function(){var t=this.apiEntity.apiUrl;if(!t)return!0;var e=t.indexOf("/{"),a=t.indexOf("}");return!(-1!=e&&-1!=a&&a-e>2)},urlParamList:function(){var t=[];if(this.urlParamDisable)return t;var e=this.apiEntity.apiUrl,a=0;while(1){var n=e.indexOf("/{",a),s=e.indexOf("}",n);if(-1==n||-1==s)break;s-n>2&&t.push(e.substring(n+2,s)),a=s+1}return t},reqDataType:function(){if(this.headers&&this.headers.length>0){var t,e=Object(mt["a"])(this.headers);try{for(e.s();!(t=e.n()).done;){var a=t.value;if("Content-Type"===a.key||"content-type"===a.key||"contentType"===a.key&&""!==a.value)return a.value}}catch(n){e.e(n)}finally{e.f()}}return"application/json"},bodyExampleJsoned:function(){try{var t=JSON.parse(this.reqContent.body.example);return Object.getOwnPropertyNames(t).length>0}catch(e){return!1}}},methods:{generateSuccessPropertyJson:function(){this.resDataBox.successed.propertyDescs=this.generateJson(JSON.parse(this.resDataBox.successed.json))},saveData:function(){var t=this;if(this.headers&&this.headers.length>0?this.apiEntity.reqHeaders=JSON.stringify(this.headers):this.apiEntity.reqHeaders="[]",this.reqContent.body.example&&this.reqContent.body.example.trim().length>0)try{JSON.parse(this.reqContent.body.example)}catch(e){return void this.$Message.warning("body参数中添加的示例数据不是标准JSON")}this.apiEntity.reqDataType=this.reqDataType,this.apiEntity.reqContent=JSON.stringify(this.reqContent),this.apiEntity.resContent=JSON.stringify(this.resDataBox),this.apiEntity.projectVersionId=this.$route.query.proVersionId,this.$server.api.updateApiInfo(this.apiEntity).then((function(e){var a=e.data;200==a.code?(t.$Notice.success({title:"更新接口",desc:"更新接口成功"}),t.$bus.$emit("api-list::initApiList")):t.$Message.warning(a.msg)}))},toBack:function(){history.back()},loadApiInfo:function(t,e){var a=this;this.loading=!0,this.$server.api.getById(t).then((function(t){var n=t.data;a.loading=!1,200==n.code?(a.apiEntity=n.data,e&&e()):a.$Message.warning(n.msg)}))},loadDataTypes:function(){var t=this;this.$server.dataType.getDataTypeList().then((function(e){var a=e.data;200==a.code?t.dataTypes=a.data:t.$Message.warning(a.msg)}))},initDatas:function(){this.apiEntity={reqMethod:"GET",groupId:"0",status:1,resDataType:"JSON"}},jsonFormat:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&0!=t.length)try{var n=JSON.parse(t);e&&e(n)}catch(s){return void(a&&this.$Message.warning("JSON格式不正确"))}},switchView:function(){var t=this,e=1==this.responOptionActive?this.resDataBox.successed.json:this.resDataBox.errored.json;this.jsonFormat(e,(function(e){t.jsonViewData=e,1==t.responOptionActive?t.resDataBox.successed.json=JSON.stringify(e,"",4):t.resDataBox.errored.json=JSON.stringify(e,"",4),t.viewType=2}))},generateJson:function(t){var e=[];if(!t)return e;if("object"==Object(ft["a"])(t)&&0==Object.getOwnPropertyNames(t).length)return e;for(var a in t){var n={name:a,desc:"",required:1,propertys:[]},s=t[a];if(s)if("object"===Object(ft["a"])(s)&&"Object"===s.constructor.name)n.type="Object",n.propertys=this.generateJson(s);else if("object"===Object(ft["a"])(s)&&"Array"===s.constructor.name){if(n.type="Array",0!=s.length){var i=s[0];i&&"object"==Object(ft["a"])(i)&&"Object"===i.constructor.name?(n.type="Object",n.propertys=this.generateJson(i),n.desc="数组对象嵌套 - [{}]"):n.name=n.name+" - "+i.constructor.name+"[]"}}else n.type=s.constructor.name;else n.type="String";e.push(n)}return e}}},Je=Ue,Ge=(a("67d4"),Object(d["a"])(Je,je,Me,!1,null,"b1a68efc",null)),He=Ge.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sys_log"},[a("Card",{staticClass:"def-box-shadow",staticStyle:{height:"60px","margin-bottom":"15px"}},[a("Col",{attrs:{span:4}},[a("Input",{attrs:{placeholder:"日志详情"},model:{value:t.queryEntity.entity.logInfo,callback:function(e){t.$set(t.queryEntity.entity,"logInfo",e)},expression:"queryEntity.entity.logInfo"}})],1),a("Col",{attrs:{span:4,offset:"1"}},[a("Input",{attrs:{placeholder:"请求地址"},model:{value:t.queryEntity.entity.reqUrl,callback:function(e){t.$set(t.queryEntity.entity,"reqUrl",e)},expression:"queryEntity.entity.reqUrl"}})],1),a("Col",{attrs:{span:4,offset:"1"}},[a("Select",{attrs:{placeholder:"请选择执行状态"},model:{value:t.queryEntity.entity.successed,callback:function(e){t.$set(t.queryEntity.entity,"successed",e)},expression:"queryEntity.entity.successed"}},[a("Option",{attrs:{value:-1}},[t._v("全部")]),a("Option",{attrs:{value:1}},[t._v("成功")]),a("Option",{attrs:{value:0}},[t._v("失败")])],1)],1),a("Col",{attrs:{span:5,offset:"1"}},[a("DatePicker",{attrs:{format:"yyyy-MM-dd",confirm:"",type:"daterange",placement:"bottom-end",placeholder:"请选择时间范围"},on:{"on-change":t.dateBoxOnChange}})],1),a("Col",{attrs:{span:2,offset:"1"}},[a("Button",{attrs:{type:"info"},on:{click:function(){t.queryEntity.pageNum=1,t.loadSysLogsList()}}},[t._v("搜索内容")])],1)],1),a("Card",{staticClass:"def-box-shadow auto_height"},[a("Table",{attrs:{"row-key":"id",columns:t.tableModel.columns,data:t.tableModel.columnDatas,border:""}}),a("div",{staticStyle:{"text-align":"right",padding:"15px 0"}},[a("Page",{attrs:{total:t.queryEntity.total,size:"small","page-size":t.queryEntity.pageSize,"show-total":"","show-sizer":"",current:t.queryEntity.pageNum},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:"日志详情",width:"800"},model:{value:t.isShowInfoBox,callback:function(e){t.isShowInfoBox=e},expression:"isShowInfoBox"}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("p",[a("span",{staticClass:"text-weight"},[t._v("基本信息")]),a("Divider",{staticStyle:{"margin-top":"4px","margin-bottom":"4px"},attrs:{size:"small"}})],1),a("div",{staticClass:"info-content"},[a("Form",{attrs:{"label-width":100}},[a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"日志详情"}},[a("Col",{attrs:{span:"5"}},[a("Tag",{attrs:{type:"dot",color:t.logInfoObj.successed?"success":"error"}},[t._v(t._s(t.logInfoObj.logInfo))])],1),a("Col",{attrs:{span:"12",offset:"7"}},[t._v(" 操作用户 "),a("Tag",{attrs:{color:"cyan"}},[t._v(t._s(t.logInfoObj.username))])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"IP地址"}},[a("Col",{attrs:{span:"5"}},[a("Tag",[t._v(t._s(t.logInfoObj.ipAddr))])],1),a("Col",{attrs:{span:"12",offset:"7"}},[t._v(" 调用时长 "),a("Tag",{attrs:{color:"geekblue"}},[t._v(t._s(t.logInfoObj.invokeTimes+"毫秒"))])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"调用方法"}},[a("Col",{attrs:{span:"10"}},[t._v(" "+t._s(t.logInfoObj.classMethod)+" ")])],1),a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"记录时间"}},[a("Col",{attrs:{span:"10"}},[t._v(" "+t._s(t.logInfoObj.createTime)+" ")])],1)],1)],1)]),a("Col",{staticStyle:{"margin-top":"20px"},attrs:{span:"24"}},[a("p",[a("span",{staticClass:"text-weight"},[t._v("请求信息")]),a("Divider",{staticStyle:{"margin-top":"4px","margin-bottom":"4px"},attrs:{size:"small"}})],1),a("div",[a("Form",{attrs:{"label-width":100}},[a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"请求地址"}},[a("Col",{attrs:{span:"20"}},[a("a",{attrs:{href:t.logInfoObj.reqUrl}},[t._v(t._s(t.logInfoObj.reqUrl))])])],1),a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"请求方式"}},[a("Col",{attrs:{span:"20"}},[a("Tag",{attrs:{color:"blue"}},[t._v(t._s(t.logInfoObj.reqMethod))])],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"请求头信息"}},[a("Col",{attrs:{span:"23"}},[a("JsonView",{attrs:{data:t.getJson(t.logInfoObj.reqHeader),"font-size":13,closed:""}})],1)],1),a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"请求数据"}},[a("Col",{attrs:{span:"23"}},[a("JsonView",{attrs:{data:t.getJson(t.logInfoObj.reqData),"font-size":13}})],1)],1)],1)],1)]),1==t.logInfoObj.successed?a("Col",{staticStyle:{"margin-top":"20px"},attrs:{span:"24"}},[a("p",[a("span",{staticClass:"text-weight"},[t._v("响应信息")]),a("Divider",{staticStyle:{"margin-top":"4px","margin-bottom":"4px"},attrs:{size:"small"}})],1),a("div",[a("Form",{attrs:{"label-width":100}},[a("FormItem",{staticStyle:{"margin-bottom":"5px"},attrs:{label:"响应数据"}},[a("Col",{attrs:{span:"23"}},[a("JsonView",{attrs:{data:t.getJson(t.logInfoObj.respData),"font-size":13}})],1)],1)],1)],1)]):t._e(),0==t.logInfoObj.successed?a("Col",{staticStyle:{"margin-top":"20px"},attrs:{span:"24"}},[a("p",[a("span",{staticClass:"text-weight"},[t._v("异常信息")]),a("Divider",{staticStyle:{"margin-top":"4px","margin-bottom":"4px"},attrs:{size:"small"}})],1),a("div",[a("Form",{attrs:{"label-width":100}},[a("Button",{on:{click:function(e){return t.openErrorMsg(t.logInfoObj.errorMsg)}}},[t._v("点击查看异常信息")])],1)],1)]):t._e()],1)],1),a("my-loading",{attrs:{show:t.loading,type:"6"}})],1)},Ke=[],Ye={name:"sys_log",components:{MyLoading:Ft,JsonView:ht.a},data:function(){var t=this;return{loading:!0,queryEntity:{total:0,pageNum:1,pageSize:10,entity:{startDate:"",endDate:""}},tableModel:{columns:[{title:"日志详情",key:"logInfo"},{title:"IP地址",key:"ipAddr"},{title:"用户名",key:"username"},{title:"请求地址",key:"reqUrl"},{title:"执行时长",key:"invokeTimes",render:function(t,e){return t("Tag",{props:{color:"geekblue"}},e.row.invokeTimes+"毫秒")}},{title:"执行状态",width:"100",key:"successed",render:function(t,e){var a=1===e.row.successed;return t("Tag",{props:{color:a?"success":"error"}},a?"成功":"失败")}},{title:"创建时间",key:"createTime"},{title:"操作",width:"100",render:function(e,a){var n=[];return n.push(e("Button",{props:{type:"info",ghost:!0,long:!0},on:{click:function(){t.showInfo(a.row)}}},"详情")),e("div",n)}}],columnDatas:[]},isShowInfoBox:!1,logInfoObj:{}}},created:function(){this.loadSysLogsList()},methods:{openErrorMsg:function(t){var e='<html>\n                    <head>\n                        <title>异常信息</title>\n                    </head>\n                    <body style="background-color:#FFFAE8;color:#248C85">\n                        <div style="font-size:13px;">\n                            '.concat(t,"\n                        </div>\n                    </body>\n                </html>"),a=window.open("www","_blank","");a.document.write(e),a.focus()},getJson:function(t){if(!t||"string"!=typeof t)return{};var e=JSON.parse(t);return e},showInfo:function(t){this.logInfoObj=t,this.isShowInfoBox=!0},dateBoxOnChange:function(t,e){this.queryEntity.entity.startDate=t[0],this.queryEntity.entity.endDate=t[1]},loadSysLogsList:function(t){var e=this;this.loading=!0,this.$server.log.getSysLogList(this.queryEntity).then((function(t){var a=t.data;e.loading=!1,200==a.code?(e.queryEntity.total=a.data.total,e.tableModel.columnDatas=a.data.records):e.$Message.warning(a.msg)}))},changePage:function(t){this.queryEntity.pageNum=t,this.loadSysLogsList()},changePageSize:function(t){this.queryEntity.pageSize=t,this.loadSysLogsList()}}},We=Ye,Xe=(a("cf6c"),Object(d["a"])(We,Qe,Ke,!1,null,"77e5691b",null)),Ze=Xe.exports,ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"email-rule",staticStyle:{"min-width":"930px"}},[a("Card",{staticClass:"def-box-shadow",staticStyle:{"font-size":"20px"}},[t._v(" 设置邮箱信息 ")]),a("div",{staticStyle:{padding:"15px"}},[a("Card",{staticClass:"def-box-shadow"},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("发信服务配置")]),a("p",{staticClass:"def_btns",attrs:{slot:"extra"},slot:"extra"},[t.emailConfig.edit?t._e():a("span",{staticClass:"tools-btn",on:{click:function(e){t.emailConfig.edit=!0}}},[t._v("编辑")]),t.emailConfig.edit?a("span",{staticClass:"tools-btn",on:{click:t.updateEmailConfig}},[t._v("保存")]):t._e(),t.emailConfig.edit?a("span",{staticClass:"tools-btn",staticStyle:{"margin-left":"15px"},on:{click:t.quitEmailEdit}},[t._v("取消")]):t._e()]),a("Row",{staticStyle:{"line-height":"3","margin-top":"15px","margin-bottom":"15px"}},[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2,offset:"1"}},[t._v(" 发信协议： ")]),a("Col",{attrs:{span:5}},[t.emailConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("EmailValueFilter")(t.emailConfig.config.protocol)))]),t.emailConfig.edit?a("Input",{model:{value:t.emailConfig.config.protocol,callback:function(e){t.$set(t.emailConfig.config,"protocol",e)},expression:"emailConfig.config.protocol"}}):t._e()],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2}},[t._v(" Host： ")]),a("Col",{attrs:{span:5}},[t.emailConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("EmailValueFilter")(t.emailConfig.config.host)))]),t.emailConfig.edit?a("Input",{model:{value:t.emailConfig.config.host,callback:function(e){t.$set(t.emailConfig.config,"host",e)},expression:"emailConfig.config.host"}}):t._e()],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2}},[t._v(" Port： ")]),a("Col",{attrs:{span:5}},[t.emailConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("EmailValueFilter")(t.emailConfig.config.port)))]),t.emailConfig.edit?a("Input",{model:{value:t.emailConfig.config.port,callback:function(e){t.$set(t.emailConfig.config,"port",e)},expression:"emailConfig.config.port"}}):t._e()],1)],1),a("Row",{staticStyle:{"line-height":"3","margin-top":"15px","margin-bottom":"15px"}},[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2,offset:"1"}},[t._v(" 用户名： ")]),a("Col",{attrs:{span:5}},[t.emailConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("EmailValueFilter")(t.emailConfig.config.username)))]),t.emailConfig.edit?a("Input",{model:{value:t.emailConfig.config.username,callback:function(e){t.$set(t.emailConfig.config,"username",e)},expression:"emailConfig.config.username"}}):t._e()],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2}},[t._v(" 密码： ")]),a("Col",{attrs:{span:5}},[t.emailConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("EmailValueFilter")(t.emailConfig.config.password)))]),t.emailConfig.edit?a("Input",{model:{value:t.emailConfig.config.password,callback:function(e){t.$set(t.emailConfig.config,"password",e)},expression:"emailConfig.config.password"}}):t._e()],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2}},[t._v(" 启用SSL： ")]),a("Col",{attrs:{span:5}},[t.emailConfig.edit?a("Checkbox",{staticStyle:{"margin-top":"-5px"},attrs:{size:"large"},model:{value:t.emailConfig.config.useSsl,callback:function(e){t.$set(t.emailConfig.config,"useSsl",e)},expression:"emailConfig.config.useSsl"}}):t._e(),t.emailConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t.emailConfig.config.useSsl?"开启":"关闭"))])],1)],1)],1),a("Card",{staticClass:"def-box-shadow",staticStyle:{"margin-top":"25px"}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("管理员信息")]),a("p",{staticClass:"def_btns",attrs:{slot:"extra"},slot:"extra"},[t.adminConfig.edit?t._e():a("span",{staticClass:"tools-btn",on:{click:function(e){t.adminConfig.edit=!0}}},[t._v("编辑")]),t.adminConfig.edit?a("span",{staticClass:"tools-btn",on:{click:t.updateAdminInfoConfig}},[t._v("保存")]):t._e(),t.adminConfig.edit?a("span",{staticClass:"tools-btn",staticStyle:{"margin-left":"15px"},on:{click:t.quitAdminInfoEdit}},[t._v("取消")]):t._e()]),a("Row",{staticStyle:{"line-height":"3","margin-top":"15px","margin-bottom":"15px"}},[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2,offset:"1"}},[t._v(" 管理员名： ")]),a("Col",{attrs:{span:5}},[t.adminConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("AdminValueFilter")(t.adminConfig.config.name)))]),t.adminConfig.edit?a("Input",{model:{value:t.adminConfig.config.name,callback:function(e){t.$set(t.adminConfig.config,"name",e)},expression:"adminConfig.config.name"}}):t._e()],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2}},[t._v(" 邮箱地址： ")]),a("Col",{attrs:{span:5}},[t.adminConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("AdminValueFilter")(t.adminConfig.config.email)))]),t.adminConfig.edit?a("Input",{model:{value:t.adminConfig.config.email,callback:function(e){t.$set(t.adminConfig.config,"email",e)},expression:"adminConfig.config.email"}}):t._e()],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:2}},[t._v(" 电话： ")]),a("Col",{attrs:{span:5}},[t.adminConfig.edit?t._e():a("span",{staticStyle:{color:"green"}},[t._v(t._s(t._f("AdminValueFilter")(t.adminConfig.config.phone)))]),t.adminConfig.edit?a("Input",{model:{value:t.adminConfig.config.phone,callback:function(e){t.$set(t.adminConfig.config,"phone",e)},expression:"adminConfig.config.phone"}}):t._e()],1)],1)],1)],1)],1)},ea=[],aa={name:"email-rule",data:function(){return{emailConfig:{edit:!1,configKey:"emailSendRule",config:{}},adminConfig:{edit:!1,configKey:"adminInfo",config:{}}}},created:function(){this.loadEmailConfig(),this.loadAdminInfoConfig()},methods:{loadEmailConfig:function(t){var e=this;this.loadConfig(this.emailConfig.configKey,(function(a){a&&a.configContent&&(e.emailConfig.config=JSON.parse(a.configContent),t&&t(a))}))},loadAdminInfoConfig:function(t){var e=this;this.loadConfig(this.adminConfig.configKey,(function(a){a&&a.configContent&&(e.adminConfig.config=JSON.parse(a.configContent),t&&t(a))}))},loadConfig:function(t,e){var a=this;this.$server.config.getConfig(t).then((function(t){var n=t.data;200==n.code?e&&e(n.data):a.$Message.warning(n.msg)}))},updateEmailConfig:function(){var t=this,e={configKey:this.emailConfig.configKey,configContent:JSON.stringify(this.emailConfig.config),configType:2,configDesc:"发信服务邮箱配置"};this.$server.config.updateConfig(e).then((function(e){var a=e.data;200==a.code?(t.emailConfig.edit=!1,t.$Message.success("更新成功")):t.$Message.warning(a.msg)}))},updateAdminInfoConfig:function(){var t=this,e={configKey:this.adminConfig.configKey,configContent:JSON.stringify(this.adminConfig.config),configType:2,configDesc:"管理员信息"};this.$server.config.updateConfig(e).then((function(e){var a=e.data;200==a.code?(t.adminConfig.edit=!1,t.$Message.success(a.msg)):t.$Message.warning(a.msg)}))},quitEmailEdit:function(){var t=this;this.loadEmailConfig((function(e){t.emailConfig.edit=!1}))},quitAdminInfoEdit:function(){var t=this;this.loadAdminInfoConfig((function(e){t.adminConfig.edit=!1}))}},filters:{EmailValueFilter:function(t){return t||"-"},AdminValueFilter:function(t){return t||"-"}}},na=aa,sa=(a("aaf2"),Object(d["a"])(na,ta,ea,!1,null,"1faf4e16",null)),ia=sa.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"views"},[a("ViewCounter",{staticStyle:{"min-width":"930px"},attrs:{counter:t.counter}}),a("MyCard",{staticStyle:{"margin-top":"20px","min-width":"930px"},attrs:{title:"视图列表",headerHeight:45},scopedSlots:t._u([{key:"extra",fn:function(){return[a("div",{staticClass:"extra"},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.statusChange},model:{value:t.queryEntity.entity.viewStatus,callback:function(e){t.$set(t.queryEntity.entity,"viewStatus",e)},expression:"queryEntity.entity.viewStatus"}},[a("Radio",{attrs:{label:0}},[t._v("全部")]),a("Radio",{attrs:{label:1}},[t._v("使用中")]),a("Radio",{attrs:{label:2}},[t._v("已作废")])],1),a("Input",{staticStyle:{width:"250px",display:"inline-block","margin-left":"15px"},attrs:{search:"",placeholder:"请输入视图名称"},on:{"on-search":t.searchView},model:{value:t.queryEntity.entity.likeKey,callback:function(e){t.$set(t.queryEntity.entity,"likeKey",e)},expression:"queryEntity.entity.likeKey"}})],1)]},proxy:!0}])},[a("div",{staticClass:"add-box"},[a("span",{staticClass:"add-btn",on:{click:t.openBox}},[a("Icon",{attrs:{type:"md-add",size:"18"}}),t._v("创建 ")],1)]),a("ViewItemListBox",{attrs:{itemDatas:t.itemDatas},on:{"export-btn-click":t.exportClick,"show-btn-click":t.showClick}}),a("div",{staticStyle:{"text-align":"right",padding:"5px 15px"}},[a("Page",{attrs:{total:t.queryEntity.total,size:"small","show-total":""},on:{"on-change":t.pageChange}})],1)],1),a("Modal",{attrs:{"footer-hide":!0,"mask-closable":!1,title:"创建视图",width:"500"},model:{value:t.modalBox.show,callback:function(e){t.$set(t.modalBox,"show",e)},expression:"modalBox.show"}},[a("Form",{ref:"my-form",staticStyle:{"margin-top":"20px"},attrs:{model:t.modalBox.entity,rules:t.modalBox.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"视图名称",prop:"viewGroupName"}},[a("Input",{attrs:{placeholder:"请输入视图名称"},model:{value:t.modalBox.entity.viewGroupName,callback:function(e){t.$set(t.modalBox.entity,"viewGroupName",e)},expression:"modalBox.entity.viewGroupName"}})],1),a("FormItem",{attrs:{label:"指定项目",prop:"projectId"}},[a("Select",{on:{"on-change":t.projectSelect},model:{value:t.modalBox.entity.projectId,callback:function(e){t.$set(t.modalBox.entity,"projectId",e)},expression:"modalBox.entity.projectId"}},t._l(t.projectList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.projectName))])})),1)],1),t.modalBox.entity.projectId?a("FormItem",{attrs:{label:"选择分支版本"}},[a("Select",{attrs:{multiple:""},model:{value:t.modalBox.entity.versions,callback:function(e){t.$set(t.modalBox.entity,"versions",e)},expression:"modalBox.entity.versions"}},t._l(t.versionList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.versionInfo))])})),1)],1):t._e(),a("FormItem",[a("Checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.modalBox.entity.hasPass,callback:function(e){t.$set(t.modalBox.entity,"hasPass",e)},expression:"modalBox.entity.hasPass"}},[t._v("是否启用密码")]),t.modalBox.entity.hasPass&&1===t.modalBox.entity.hasPass?a("Checkbox",{model:{value:t.modalBox.entity.autoGenerate,callback:function(e){t.$set(t.modalBox.entity,"autoGenerate",e)},expression:"modalBox.entity.autoGenerate"}},[t._v("随机生成密码")]):t._e()],1),t.modalBox.entity.hasPass&&1===t.modalBox.entity.hasPass&&!t.modalBox.entity.autoGenerate?a("FormItem",{attrs:{label:"查看密码"}},[a("Input",{attrs:{placeholder:"请输入查看密码"},model:{value:t.modalBox.entity.showPass,callback:function(e){t.$set(t.modalBox.entity,"showPass",e)},expression:"modalBox.entity.showPass"}})],1):t._e(),a("FormItem",{attrs:{label:"有效期"}},[a("RadioGroup",{attrs:{type:"button"},model:{value:t.modalBox.entity.expTime,callback:function(e){t.$set(t.modalBox.entity,"expTime",e)},expression:"modalBox.entity.expTime"}},[a("Radio",{attrs:{label:""}},[t._v("永久")]),a("Radio",{attrs:{label:"D:7"}},[t._v("7天")]),a("Radio",{attrs:{label:"M:1"}},[t._v("1月")]),a("Radio",{attrs:{label:"Y:1"}},[t._v("1年")])],1)],1),a("FormItem",[a("Checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.modalBox.entity.isTestable,callback:function(e){t.$set(t.modalBox.entity,"isTestable",e)},expression:"modalBox.entity.isTestable"}},[t._v("是否启用接口测试")])],1),a("FormItem",[a("Button",{staticStyle:{"margin-left":"80px"},attrs:{type:"primary",size:"large",loading:t.modalBox.loading},on:{click:t.saveViewData}},[t._v("保存")]),a("Button",{staticStyle:{"margin-left":"25px"},attrs:{type:"default",size:"large"},on:{click:function(e){t.modalBox.show=!1}}},[t._v("取消")])],1)],1)],1)],1)},ra=[],la=a("ade3"),ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-counter"},[a("MyCard",[a("div",{staticClass:"counter-box"},[a("div",[a("p",[a("span",{staticClass:"item-title"},[t._v("视图总数")])]),a("p",[null!=t.counter.total?a("span",{staticClass:"item-value"},[t._v(t._s(t.counter.total))]):a("span",{staticStyle:{display:"inline-block","margin-top":"8px","font-weight":"700"}},[t._v("加载中...")])])]),a("div",[a("p",[a("span",{staticClass:"item-title"},[t._v("已发布的视图")])]),a("p",[null!=t.counter.published?a("span",{staticClass:"item-value"},[t._v(t._s(t.counter.published))]):a("span",{staticStyle:{display:"inline-block","margin-top":"8px","font-weight":"700"}},[t._v("加载中...")])])]),a("div",[a("p",[a("span",{staticClass:"item-title"},[t._v("已作废的视图")])]),a("p",[null!=t.counter.obsolete?a("span",{staticClass:"item-value"},[t._v(t._s(t.counter.obsolete))]):a("span",{staticStyle:{display:"inline-block","margin-top":"8px","font-weight":"700"}},[t._v("加载中...")])])])])])],1)},ua=[],da={name:"view-counter",components:{MyCard:Ve},props:{counter:{type:Object,required:!0}},data:function(){return{}}},pa=da,ma=(a("c8d3"),Object(d["a"])(pa,ca,ua,!1,null,"0b50ccd0",null)),fa=ma.exports,ga={name:"views",components:{MyCard:Ve,ViewCounter:fa,ViewItemListBox:ot},data:function(){return{modalBox:{show:!1,loading:!1,entity:{viewGroupName:null,projectId:null,versions:[]},ruleValidate:{viewGroupName:[{required:!0,message:"视图名称不能为空",trigger:"blur"}],projectId:[{required:!0,message:"必须指定一个项目",trigger:"blur"}]}},loading:!1,counter:{},itemDatas:[],projectList:[],versionList:[],queryEntity:{total:0,pageNum:1,pageSize:10,entity:{viewStatus:1}}}},created:function(){var t=this;setTimeout((function(){t.loadProjectList()}),1),setTimeout((function(){t.loadViewList()}),1),setTimeout((function(){t.loaderCounter()}),1)},methods:{showClick:function(t){this.$router.push({name:"view-info",query:{hasPass:t.row.hasPass,pass:t.row.showPass},params:{viewId:t.row.viewId}}),console.log(t)},exportClick:function(t){this.$server.views.exportViewExcel(t.row.viewId).then((function(t){location.href=t.target}))},pageChange:function(t){this.queryEntity.pageNum=t,this.loadViewList()},statusChange:function(t){this.loadViewList()},searchView:function(){this.queryEntity.pageNum=1,this.loadViewList()},loaderCounter:function(){var t=this;this.$server.views.viewCounter().then((function(e){var a=e.data;console.log(Object(ft["a"])(a)),console.log(a),200==a.code?t.$set(t,"counter",a.data):t.$Message.warning(a.msg)}))},loadViewList:function(){var t=this;this.$server.views.queryViewDatas(this.queryEntity).then((function(e){var a=e.data;200==a.code?(console.log(a),t.itemDatas=a.data.records,t.queryEntity.total=a.data.total):t.$Message.warning(a.msg)}))},saveViewData:function(){var t=this,e=this.modalBox.entity;this.$refs["my-form"].validate((function(a){if(a){if(!e.versions||0==e.versions.length)return void t.$Message.warning("至少选择一个版本分支");if(1===e.hasPass&&!e.autoGenerate&&(!e.showPass||0==e.showPass.length))return void t.$Message.warning("需要设置一个访问密码");t.$server.views.createViewData(e).then((function(e){var a=e.data;200==a.code?(t.modalBox.show=!1,t.$Message.success("创建成功"),t.loadViewList()):t.$Message.warning(a.msg)}))}}))},projectSelect:function(t){var e=this;console.log(t),this.$server.project.getProjectVersionList(t).then((function(t){var a=t.data;200==a.code?(e.versionList=a.data,console.log(a.data)):e.$Message.warning(a.msg)}))},loadProjectList:function(){var t=this;this.$server.project.getProjectList().then((function(e){var a=e.data;200==a.code?t.projectList=a.data:t.$Message.warning(a.msg)}))},openBox:function(){this.modalBox.entity=Object(la["a"])({isExp:0,hasPass:0,autoGenerate:!0,isTestable:0},"hasPass",0),this.modalBox.show=!0}}},ya=ga,ha=(a("8d29"),Object(d["a"])(ya,oa,ra,!1,null,"1487b05a",null)),va=ha.exports,ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-type"},[a("Card",{staticClass:"def-box-shadow",staticStyle:{height:"65px"}},[a("Col",{attrs:{span:2}},[a("Button",{attrs:{icon:"md-add",type:"primary"},on:{click:function(e){return t.tableModel.columnDatas.push({_editrow:!0,typeName:"",typeDesc:""})}}},[t._v(" 添加 ")])],1),a("Col",{attrs:{span:10,offset:"1"}},[a("Alert",[t._v("双击单元格 "),a("strong",[t._v("数据类型")]),t._v(" 或 "),a("strong",[t._v("描述")]),t._v(" 可实现行内编辑")])],1)],1),a("div",{staticClass:"content"},[a("Card",{staticClass:"def-box-shadow"},[a("Table",{attrs:{"row-key":"id",loading:t.tableModel.loading,columns:t.tableModel.columns,data:t.tableModel.columnDatas,border:""}})],1)],1)],1)},xa=[],wa=(a("4160"),a("a434"),a("159b"),{name:"data-type",data:function(){var t=this;return{tableModel:{loading:!0,columns:[{title:"RorNumber",render:function(t,e){e.row;var a=e.index;return t("span",a+1)}},{title:"数据类型",key:"typeName",render:function(e,a){var n=a.row,s=a.index,i=n._editrow?e("Input",{props:{value:n.typeName,placeholder:"请输入数据类型"},on:{input:function(e){t.tableModel.columnDatas[s].typeName=e}}}):n.typeName;return e("div",{on:{dblclick:function(){t.tableModel.columnDatas[s].__originData||(t.tableModel.columnDatas[s].__originData=n),t.tableModel.columnDatas[s]._editrow=!0}}},[i])}},{title:"描述",key:"typeDesc",render:function(e,a){var n=a.row,s=a.index,i=n._editrow?e("Input",{props:{value:n.typeDesc,placeholder:"请输入描述信息"},on:{input:function(e){t.tableModel.columnDatas[s].typeDesc=e}}}):n.typeDesc;return e("div",{on:{dblclick:function(){t.tableModel.columnDatas[s].__originData||(t.tableModel.columnDatas[s].__originData=n),t.tableModel.columnDatas[s]._editrow=!0}}},[i])}},{title:"创建时间",key:"createTime",render:function(t,e){var a=e.row,n=(e.index,a._editrow&&!a.createTime?"-":a.createTime);return t("span",n)}},{title:"操作",width:"160",render:function(e,a){var n=[];return a.row._editrow&&n.push(e("Button",{on:{click:function(){t.saveRowData(a.row,a.index)}}},"保存")),n.push(e("Button",{style:{"margin-left":"2px"},on:{click:function(){t.deleteRowData(a.row,a.index)}}},"删除")),e("div",n)}}],columnDatas:[]}}},created:function(){this.loadDataTypeList()},methods:{equalsObj:function(t,e){if(null==t||null==e)return!1;if(t===e)return!0;for(var a in t)if(0!=a.indexOf("_")&&t[a]!==e[a])return!1;return!0},saveRowData:function(t,e){var a=this;this.equalsObj(this.tableModel.columnDatas[e],this.tableModel.columnDatas[e].__originData)?this.tableModel.columnDatas[e]._editrow=!1:t.typeName&&""!=t.typeName?this.$server.dataType.updateDataType(t).then((function(t){var e=t.data;200==e.code?(a.loadDataTypeList(),a.$Message.info("保存成功")):a.$Message.warning(e.msg)})):this.$Message.warning("数据类型不能为空")},loadDataTypeList:function(){var t=this;this.loading=!0,this.$server.dataType.getDataTypeList().then((function(e){var a=e.data;200==a.code?(a.data.forEach((function(t){t._editrow=!1})),t.tableModel.columnDatas=a.data,t.tableModel.loading=!1):t.$Message.warning(a.msg)}))},deleteRowData:function(t,e){var a=this;t.id?this.$Modal.confirm({title:"删除",content:"<p>是否删除[".concat(t.typeName,"]这个类型?</p>"),loading:!0,onOk:function(){a.$server.dataType.deleteDataType(t.id).then((function(t){var e=t.data;200==e.code?(a.$Modal.remove(),a.loadDataTypeList(),a.$Message.info("删除成功")):a.$Message.warning(e.msg)}))}}):this.tableModel.columnDatas.splice(e,1)}}}),Ca=wa,_a=(a("4aba"),Object(d["a"])(Ca,ba,xa,!1,null,"f79b5502",null)),ka=_a.exports;o["default"].use(f["a"]);var Ia=new f["a"]({mode:"hash",routes:[{path:"/",redirect:"/show-view"},{name:"show-view",path:"/show-view",component:ut,meta:{title:"视图列表"}},{name:"view-info",path:"/view-info/:viewId",component:wt,meta:{title:"视图详情"}},{name:"index",path:"/index",component:G,meta:{title:"首页"},children:[{name:"home",path:"/home",component:$t,meta:{title:"欢迎页"}},{name:"menu-permission",path:"/menu-permission",component:Pt,meta:{title:"菜单权限"}},{name:"role-rule",path:"/role-rule",component:Ht,meta:{title:"角色配置"}},{name:"projects",path:"/projects",component:ie,meta:{title:"项目管理"}},{name:"api-list",path:"/api-list",component:Se,meta:{title:"API列表",keepAlive:!0}},{name:"api-edit",path:"/api-edit",component:He,props:!0,meta:{title:"API编辑"}},{name:"user-member",path:"/user-member",component:Zt,meta:{title:"人员管理"}},{name:"logs",path:"/logs",component:Ze,meta:{title:"日志管理"}},{name:"email-rule",path:"/email-rule",component:ia,meta:{title:"邮箱配置"}},{name:"views",path:"/views",component:va,meta:{title:"视图管理"}},{name:"data-type",path:"/data-type",component:ka,meta:{title:"数据类型管理"}}]},{name:"login",path:"/login",component:B,props:!0,meta:{title:"登录页"}},{name:"error_404",path:"/*",component:I,props:!0,meta:{title:"页面丢了"}}]}),Ea=["show-view","view-info"];Ia.beforeEach((function(t,e,a){"login"==t.name||b.getToken()||-1!=Ea.indexOf(t.name)?(document.title=t.meta.title,a()):a({name:"login",params:{redirect:!0}})}));var $a=Ia,Sa=a("2f62"),ja=a("0f9a"),Ma=a.n(ja);o["default"].use(Sa["a"]);var Da=new Sa["a"].Store({modules:{user:Ma.a}}),Oa=Da,qa=a("bc3a"),Ba=a.n(qa),Pa="/ycc-api-admin",Ta=Ba.a.create({baseURL:Pa,timeout:3e4});Ta.interceptors.request.use((function(t){var e=t.headers,a=b.getToken();return a&&(e.token=a),t}),(function(t){return Promise.reject(t)})),Ta.interceptors.response.use((function(t){return"401"!=t.data.code&&"407"!=t.data.code&&"408"!=t.data.code||(b.cleanStore(),$a.push({name:"login"})),t}),(function(t){return Promise.reject(t)}));var Na={multi:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return Ba.a.all(e)},user:{login:function(t){return Ta.post("/user/login",t)},getUserInfo:function(){return Ta.get("/user/getUserInfo")},queryUserList:function(t){return Ta.post("/user/query",t)},createUser:function(t){return Ta.post("/user/create",t)},updateUser:function(t){return Ta.put("/user/update",t)},resetPass:function(t){return Ta.post("/user/resetPass",t)},currentResetPass:function(t){return Ta.post("/user/current/resetPass",t)},deleteUser:function(t){return Ta.delete("/user/"+t)}},menu:{getTree:function(){return Ta.get("/menu/tree")},saveMenu:function(t){return Ta.post("/menu",t)},removeMenu:function(t){return Ta.delete("/menu",{data:{id:t}})}},role:{getRoleList:function(){return Ta.get("/role")},getRoleMenuPermsOptions:function(t){return Ta.get("/role/perms/"+t)},updateSelectMenus:function(t){return Ta.post("/role/perms/update",t)},saveRoleEntity:function(t){return Ta.post("/role",t)},deleteRole:function(t){return Ta.delete("/role/"+t)}},test:{invokeHttpMethod:function(t){return Ta.post("/test/http/"+t.method,t)}},log:{getSysLogList:function(t){return Ta.post("/logs/query",t)}},config:{getConfig:function(t){return Ta.get("/config/"+t)},updateConfig:function(t){return Ta.put("/config/"+t.configKey,t)}},dataType:{getDataTypeList:function(){return Ta.get("/data-type")},updateDataType:function(t){return Ta.post("/data-type",t)},deleteDataType:function(t){return Ta.delete("/data-type/"+t)}},project:{queryProjectPage:function(t){return Ta.post("/project/query",t)},getProjectList:function(){return Ta.get("/project")},getProjectVersionList:function(t){return Ta.get("/project/versions?projectId="+t)},deleteProject:function(t){return Ta.delete("/project/"+t)},updateProject:function(t){return Ta.put("/project",t)},saveProject:function(t){return Ta.post("/project",t)},getProjectById:function(t){return Ta.get("/project/"+t)},proVersionList:function(t){return Ta.get("/project/versions/"+t)},deleteProjectVersion:function(t){return Ta.delete("/project/version/".concat(t))},deleteProjectGroup:function(t){return Ta.delete("/project/group/".concat(t))},addProjectVersion:function(t){return Ta.post("/project/version",t)},addProjectGroup:function(t){return Ta.post("/project/group",t)}},api:{getApiPage:function(t){return Ta.post("/api/query",t)},getById:function(t){return Ta.get("/api/"+t)},getGroupListByVersionId:function(t){return Ta.get("/api/groups/"+t)},getRequestMethods:function(){return Ta.get("/api/requestMethods")},getRequestHeaderNames:function(){return Ta.get("/api/headerNames")},updateApiInfo:function(t){return Ta.post("/api",t)},deleteApiInfo:function(t){return Ta.delete("/api/"+t)}},views:{createViewData:function(t){return Ta.post("/views",t)},queryViewDatas:function(t){return Ta.post("/views/query",t)},viewCounter:function(){return Ta.get("/views/counter")},exportViewExcel:function(t){return new Promise((function(e,a){var n=Pa+"/views/export/excel?viewId="+t;e({target:n})}))}},notice:{sendMail:function(t){return Ta.post("/notice/sendMail",t)}}},Ra=Na,La=a("f825"),Aa=a.n(La),za=a("ada6"),Va=a.n(za),Fa=function(t){this.storeInstance=t,this.setItem=function(t,e){this.storeInstance.setItem(t,JSON.stringify(e))},this.addItem=function(t,e){var a=this.getItem(t);a?(Array.isArray(a)||(a=[a]),a.push(e),this.setItem(t,a)):this.setItem(t,e)},this.getItem=function(t){var e=this.storeInstance.getItem(t);return e?JSON.parse(e):e}},Ua={session:Object(S["a"])({},new Fa(sessionStorage)),local:Object(S["a"])({},new Fa(localStorage))};a("f8ce");o["default"].use(Va.a),o["default"].use(Aa.a),o["default"].prototype.$server=Ra,o["default"].prototype.$bus=new o["default"],o["default"].prototype.$bus.storage=Ua,o["default"].config.productionTip=!1,new o["default"]({store:Oa,router:$a,render:function(t){return t(m)}}).$mount("#app")},5760:function(t,e,a){"use strict";a("3e20")},"5a02":function(t,e,a){"use strict";a("de8d")},"5afa":function(t,e,a){},"60f6":function(t,e,a){"use strict";a("c49c")},"67d4":function(t,e,a){"use strict";a("7424")},"6d75":function(t,e,a){"use strict";a("5afa")},"6dee":function(t,e,a){"use strict";a("ae0e")},"6f81":function(t,e,a){"use strict";a("14bf")},7252:function(t,e,a){"use strict";a("b3d0")},7424:function(t,e,a){},"799d":function(t,e,a){"use strict";a("d75e")},"7ca0":function(t,e,a){},"8d29":function(t,e,a){"use strict";a("0b54")},"9b0b":function(t,e,a){"use strict";a("e6fe")},"9fbc":function(t,e,a){},aaf2:function(t,e,a){"use strict";a("bdcd")},ae0e:function(t,e,a){},b3d0:function(t,e,a){},b809:function(t,e,a){"use strict";a("f340")},b96e:function(t,e,a){},bdcd:function(t,e,a){},c49c:function(t,e,a){},c8d3:function(t,e,a){"use strict";a("1e6b")},cf6c:function(t,e,a){"use strict";a("0987")},d092:function(t,e,a){t.exports=a.p+"api-static/img/home02.c2dbe9a5.gif"},d75e:function(t,e,a){},d7ab:function(t,e,a){},dd8f:function(t,e,a){},de8d:function(t,e,a){},e6fe:function(t,e,a){},f0db:function(t,e,a){},f340:function(t,e,a){},f475:function(t,e,a){"use strict";a("b96e")},f4bb:function(t,e,a){"use strict";a("3fc7")},f524:function(t,e,a){"use strict";a("d7ab")},f7e4:function(t,e,a){t.exports=a.p+"api-static/img/not_found.b09226ab.jpg"},fc76:function(t,e,a){"use strict";a("0c30")}});
//# sourceMappingURL=app.09719790.js.map